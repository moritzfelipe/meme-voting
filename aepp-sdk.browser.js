!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("@stamp/required"),require("bignumber.js"),require("@stamp/it"),require("joi-browser"),require("axios"),require("tweetnacl"),require("rlp"),require("json-bigint"),require("@aeternity/bip39"),require("bs58check"),require("tweetnacl-auth"),require("blakejs"),require("aes-js"),require("sha.js"),require("websocket"),require("bip32-path")):"function"==typeof define&&define.amd?define([,,,,,,,,,,,,,,,],e):"object"==typeof exports?exports.Ae=e(require("@stamp/required"),require("bignumber.js"),require("@stamp/it"),require("joi-browser"),require("axios"),require("tweetnacl"),require("rlp"),require("json-bigint"),require("@aeternity/bip39"),require("bs58check"),require("tweetnacl-auth"),require("blakejs"),require("aes-js"),require("sha.js"),require("websocket"),require("bip32-path")):t.Ae=e(t[void 0],t[void 0],t[void 0],t[void 0],t[void 0],t[void 0],t[void 0],t[void 0],t[void 0],t[void 0],t[void 0],t[void 0],t[void 0],t[void 0],t[void 0],t[void 0])}(window,function(t,e,n,r,a,o,i,c,s,u,f,p,l,h,d,v){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(r,a,function(e){return t[e]}.bind(null,a));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=163)}([function(t,e,n){t.exports=n(124)},function(t,e){function n(t,e,n,r,a,o,i){try{var c=t[o](i),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,a)}t.exports=function(t){return function(){var e=this,r=arguments;return new Promise(function(a,o){var i=t.apply(e,r);function c(t){n(i,a,o,c,s,"next",t)}function s(t){n(i,a,o,c,s,"throw",t)}c(void 0)})}}},function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){"use strict";n.d(e,"r",function(){return y}),n.d(e,"h",function(){return g}),n.d(e,"f",function(){return w}),n.d(e,"p",function(){return k}),n.d(e,"j",function(){return j}),n.d(e,"g",function(){return E}),n.d(e,"d",function(){return P}),n.d(e,"c",function(){return _}),n.d(e,"m",function(){return S}),n.d(e,"n",function(){return B}),n.d(e,"i",function(){return R}),n.d(e,"e",function(){return N}),n.d(e,"q",function(){return U}),n.d(e,"o",function(){return Et}),n.d(e,"l",function(){return Pt}),n.d(e,"k",function(){return Kt}),n.d(e,"b",function(){return Ht}),n.d(e,"a",function(){return Wt});var r,a,o,i,c,s,u,f,p=n(2),l=n.n(p),h=n(6),d=n.n(h),v=n(10),m=n.n(v),y=1,g=11,b=function(t,e,n){return[t,e,n]},x=function(t,e){return[t,e]},w=1e9,k={account:"account",signed:"signedTx",spend:"spendTx",nameClaim:"nameClaimTx",namePreClaim:"namePreClaimTx",nameUpdate:"nameUpdateTx",nameRevoke:"nameRevokeTx",nameTransfer:"nameTransfer",contract:"contract",contractCreate:"contractCreateTx",contractCall:"contractCallTx",contractCallResult:"contractCallResult",oracleRegister:"oracleRegister",oracleExtend:"oracleExtend",oracleQuery:"oracleQuery",oracleResponse:"oracleResponse",channelCreate:"channelCreate",channelCloseMutual:"channelCloseMutual",channelCloseSolo:"channelCloseSolo",channelSlash:"channelSlash",channelDeposit:"channelDeposit",channelWithdraw:"channelWithdraw",channelSettle:"channelSettle",channelOffChain:"channelOffChain",channel:"channel",channelSnapshotSolo:"channelSnapshotSolo",channelOffChainUpdateTransfer:"channelOffChainUpdateTransfer",channelOffChainUpdateDeposit:"channelOffChainUpdateDeposit",channelOffChainUpdateWithdrawal:"channelOffChainUpdateWithdrawal",channelOffChainCreateContract:"channelOffChainCreateContract",channelOffChainCallContract:"channelOffChainCallContract",proofOfInclusion:"proofOfInclusion",stateTrees:"stateTrees",merklePatriciaTree:"merklePatriciaTree",merklePatriciaTreeValue:"merklePatriciaTreeValue",contractsTree:"contractsTree",contractCallsTree:"contractCallsTree",channelsTree:"channelsTree",nameserviceTree:"nameserviceTree",oraclesTree:"oraclesTree",accountsTree:"accountsTree"},T=1,O=3,C=4,I=0,A=1,j={1:(r={},l()(r,k.contractCreate,{vmVersion:[T],abiVersion:[A]}),l()(r,k.contractCall,{vmVersion:[T],abiVersion:[A]}),l()(r,k.oracleRegister,{vmVersion:[T],abiVersion:[I,A]}),r),2:(a={},l()(a,k.contractCreate,{vmVersion:[O],abiVersion:[A]}),l()(a,k.contractCall,{vmVersion:[O,T],abiVersion:[A]}),l()(a,k.oracleRegister,{vmVersion:[O],abiVersion:[I,A]}),a),3:(o={},l()(o,k.contractCreate,{vmVersion:[C],abiVersion:[A]}),l()(o,k.contractCall,{vmVersion:[C,T,O],abiVersion:[A]}),l()(o,k.oracleRegister,{vmVersion:[],abiVersion:[I,A]}),o)},E=(i={},l()(i,10,k.account),l()(i,g,k.signed),l()(i,12,k.spend),l()(i,32,k.nameClaim),l()(i,33,k.namePreClaim),l()(i,34,k.nameUpdate),l()(i,35,k.nameRevoke),l()(i,36,k.nameTransfer),l()(i,40,k.contract),l()(i,42,k.contractCreate),l()(i,43,k.contractCall),l()(i,41,k.contractCallResult),l()(i,22,k.oracleRegister),l()(i,25,k.oracleExtend),l()(i,23,k.oracleQuery),l()(i,24,k.oracleResponse),l()(i,50,k.channelCreate),l()(i,53,k.channelCloseMutual),l()(i,54,k.channelCloseSolo),l()(i,55,k.channelSlash),l()(i,51,k.channelDeposit),l()(i,52,k.channelWithdraw),l()(i,56,k.channelSettle),l()(i,57,k.channelOffChain),l()(i,58,k.channel),l()(i,59,k.channelSnapshotSolo),l()(i,570,k.channelOffChainUpdateTransfer),l()(i,571,k.channelOffChainUpdateDeposit),l()(i,572,k.channelOffChainUpdateWithdrawal),l()(i,573,k.channelOffChainCreateContract),l()(i,574,k.channelOffChainCallContract),l()(i,60,k.proofOfInclusion),l()(i,62,k.stateTrees),l()(i,63,k.merklePatriciaTree),l()(i,64,k.merklePatriciaTreeValue),l()(i,621,k.contractsTree),l()(i,622,k.contractCallsTree),l()(i,623,k.channelsTree),l()(i,624,k.nameserviceTree),l()(i,625,k.oraclesTree),l()(i,626,k.accountsTree),i),P={int:"int",id:"id",ids:"ids",string:"string",binary:"binary",rlpBinary:"rlpBinary",rlpBinaries:"rlpBinaries",rawBinary:"rawBinary",bool:"bool",hex:"hex",signatures:"signatures",pointers:"pointers",offChainUpdates:"offChainUpdates",callStack:"callStack",proofOfInclusion:"proofOfInclusion",mptree:"mptree",callReturnType:"callReturnType",ctVersion:"ctVersion",payload:"payload"},_=2e4,S=function(t){switch(t){case k.contractCreate:return m()(75e3);case k.contractCall:return m()(45e4);default:return m()(15e3)}},B=function(t){return function(e){var n=e.txSize,r=e.relativeTtl;switch(t){case k.oracleRegister:case k.oracleExtend:case k.oracleQuery:case k.oracleResponse:return m()(n).times(20).plus(Math.ceil(32e3*r/Math.floor(175200)));default:return m()(n).times(20)}}},R={ak:1,nm:2,cm:3,ok:4,ct:5,ch:6},N=(f=R,Object.entries(f).reduce(function(t,e){var n=d()(e,2),r=n[0];return(t[n[1]]=r)&&t},{})),V=function(t){return t},U=(c={},l()(c,P.int,function(t){var e=t.value,n=t.isMinusValue;return V("".concat(e,n?" must be >= 0":" is not of type Number or BigNumber"))}),l()(c,P.id,function(t){var e=t.value,n=t.prefix;return V("'".concat(e,"' prefix doesn't match expected prefix '").concat(n,"' or ID_TAG for prefix not found"))}),l()(c,P.binary,function(t){var e=t.prefix,n=t.value;return V("'".concat(n,"' prefix doesn't match expected prefix '").concat(e,"'"))}),l()(c,P.string,function(t){t.value;return V("Not a string")}),l()(c,P.pointers,function(t){t.value;return V('Value must be of type Array and contains only object\'s like \'{key: "account_pubkey", id: "ak_lkamsflkalsdalksdlasdlasdlamd"}\'')}),l()(c,P.ctVersion,function(t){t.value;return V('Value must be an object with "vmVersion" and "abiVersion" fields')}),c),L=[b("tag",P.int),b("VSN",P.int)],q=[].concat(L,[b("nonce",P.int),b("balance",P.int)]),M=[].concat(L,[b("flags",P.int),b("nonce",P.int),b("balance",P.int),b("gaContract",P.id,"ct"),b("gaAuthFun",P.binary,"cb")]),F=[].concat(L,[b("senderId",P.id,"ak"),b("recipientId",P.id,"ak"),b("amount",P.int),b("fee",P.int),b("ttl",P.int),b("nonce",P.int),b("payload",P.payload)]),D=[].concat(L,[b("signatures",P.signatures),b("encodedTx",P.rlpBinary)]),K=[].concat(L,[b("accountId",P.id,"ak"),b("nonce",P.int),b("commitmentId",P.id,"cm"),b("fee",P.int),b("ttl",P.int)]),H=[].concat(L,[b("accountId",P.id,"ak"),b("nonce",P.int),b("name",P.binary,"nm"),b("nameSalt",P.int),b("fee",P.int),b("ttl",P.int)]),W=[].concat(L,[b("accountId",P.id,"ak"),b("nonce",P.int),b("nameId",P.id,"nm"),b("nameTtl",P.int),b("pointers",P.pointers),b("clientTtl",P.int),b("fee",P.int),b("ttl",P.int)]),Y=[].concat(L,[b("accountId",P.id,"ak"),b("nonce",P.int),b("nameId",P.id,"nm"),b("recipientId",P.id,"ak"),b("fee",P.int),b("ttl",P.int)]),Q=[].concat(L,[b("accountId",P.id,"ak"),b("nonce",P.int),b("nameId",P.id,"nm"),b("fee",P.int),b("ttl",P.int)]),z=[].concat(L,[b("owner",P.id,"ak"),b("ctVersion",P.int),b("code",P.binary,"cb"),b("log",P.binary,"cb"),b("active",P.bool),b("referers",P.ids,"ak"),b("deposit",P.int)]),G=[].concat(L,[b("ownerId",P.id,"ak"),b("nonce",P.int),b("code",P.binary,"cb"),b("ctVersion",P.ctVersion),b("fee",P.int),b("ttl",P.int),b("deposit",P.int),b("amount",P.int),b("gas",P.int),b("gasPrice",P.int),b("callData",P.binary,"cb")]),X=[].concat(L,[b("callerId",P.id,"ak"),b("nonce",P.int),b("contractId",P.id,"ct"),b("abiVersion",P.int),b("fee",P.int),b("ttl",P.int),b("amount",P.int),b("gas",P.int),b("gasPrice",P.int),b("callData",P.binary,"cb")]),$=[].concat(L,[b("callerId",P.id,"ak"),b("callerNonce",P.int),b("height",P.int),b("contractId",P.id,"ct"),b("gasPrice",P.int),b("gasUsed",P.int),b("returnValue",P.binary,"cb"),b("returnType",P.callReturnType),b("log",P.rawBinary)]),J=[].concat(L,[b("accountId",P.id,"ak"),b("nonce",P.int),b("queryFormat",P.string),b("responseFormat",P.string),b("queryFee",P.int),b("oracleTtlType",P.int),b("oracleTtlValue",P.int),b("fee",P.int),b("ttl",P.int),b("abiVersion",P.int)]),Z=[].concat(L,[b("oracleId",P.id,"ok"),b("nonce",P.int),b("oracleTtlType",P.int),b("oracleTtlValue",P.int),b("fee",P.int),b("ttl",P.int)]),tt=[].concat(L,[b("senderId",P.id,"ak"),b("nonce",P.int),b("oracleId",P.id,"ok"),b("query",P.string),b("queryFee",P.int),b("queryTtlType",P.int),b("queryTtlValue",P.int),b("responseTtlType",P.int),b("responseTtlValue",P.int),b("fee",P.int),b("ttl",P.int)]),et=[].concat(L,[b("oracleId",P.id,"ok"),b("nonce",P.int),b("queryId",P.binary,"oq"),b("response",P.string),b("responseTtlType",P.int),b("responseTtlValue",P.int),b("fee",P.int),b("ttl",P.int)]),nt=[].concat(L,[b("initiator",P.id,"ak"),b("initiatorAmount",P.int),b("responder",P.id,"ak"),b("responderAmount",P.int),b("channelReserve",P.int),b("lockPeriod",P.int),b("ttl",P.int),b("fee",P.int),b("delegateIds",P.string),b("stateHash",P.binary,"st"),b("nonce",P.int)]),rt=[].concat(L,[b("channelId",P.id,"ch"),b("fromId",P.id,"ak"),b("amount",P.int),b("ttl",P.int),b("fee",P.int),b("stateHash",P.binary,"st"),b("round",P.int),b("nonce",P.int)]),at=[].concat(L,[b("channelId",P.id,"ch"),b("toId",P.id,"ak"),b("amount",P.int),b("ttl",P.int),b("fee",P.int),b("stateHash",P.binary,"st"),b("round",P.int),b("nonce",P.int)]),ot=[].concat(L,[b("channelId",P.id,"ch"),b("fromId",P.id,"ak"),b("initiatorAmountFinal",P.int),b("responderAmountFinal",P.int),b("ttl",P.int),b("fee",P.int),b("nonce",P.int)]),it=[].concat(L,[b("channelId",P.id,"ch"),b("fromId",P.id,"ak"),b("payload",P.binary,"tx"),b("poi",P.binary,"pi"),b("ttl",P.int),b("fee",P.int),b("nonce",P.int)]),ct=[].concat(L,[b("channelId",P.id,"ch"),b("fromId",P.id,"ak"),b("payload",P.binary,"tx"),b("poi",P.binary,"pi"),b("ttl",P.int),b("fee",P.int),b("nonce",P.int)]),st=[].concat(L,[b("channelId",P.id,"ch"),b("fromId",P.id,"ak"),b("initiatorAmountFinal",P.int),b("responderAmountFinal",P.int),b("ttl",P.int),b("fee",P.int),b("nonce",P.int)]),ut=[].concat(L,[b("channelId",P.id,"ch"),b("round",P.int),b("updates",P.offChainUpdates),b("stateHash",P.binary,"st")]),ft=[].concat(L,[b("channelId",P.id,"ch"),b("round",P.int),b("stateHash",P.binary,"st")]),pt=[].concat(L,[b("initiator",P.id,"ak"),b("responder",P.id,"ak"),b("channelAmount",P.int),b("initiatorAmount",P.int),b("responderAmount",P.int),b("channelReserve",P.int),b("delegateIds",P.ids),b("stateHash",P.hex),b("round",P.int),b("soloRound",P.int),b("lockPeriod",P.int),b("lockedUntil",P.int)]),lt=[].concat(L,[b("initiator",P.id,"ak"),b("responder",P.id,"ak"),b("channelAmount",P.int),b("initiatorAmount",P.int),b("responderAmount",P.int),b("channelReserve",P.int),b("delegateIds",P.ids),b("stateHash",P.hex),b("round",P.int),b("soloRound",P.int),b("lockPeriod",P.int),b("lockedUntil",P.int),b("initiatorAuth",P.binary,"cb"),b("responderAuth",P.binary,"cb")]),ht=[].concat(L,[b("channelId",P.id,"ch"),b("fromId",P.id,"ak"),b("payload",P.binary,"tx"),b("ttl",P.int),b("fee",P.int),b("nonce",P.int)]),dt=[].concat(L,[b("owner",P.id,"ak"),b("ctVersion",P.int),b("code",P.binary,"cb"),b("deposit",P.int),b("callData",P.binary,"cb")]),vt=[].concat(L,[b("caller",P.id,"ak"),b("contract",P.id,"ct"),b("abiVersion",P.int),b("amount",P.int),b("callData",P.binary,"cb"),b("callStack",P.callStack),b("gasPrice",P.int),b("gasLimit",P.int)]),mt=[].concat(L,[b("from",P.id,"ak"),b("to",P.id,"ak"),b("amount",P.int)]),yt=[].concat(L,[b("from",P.id,"ak"),b("amount",P.int)]),gt=[].concat(L,[b("from",P.id,"ak"),b("amount",P.int)]),bt=[].concat(L,[b("accounts",P.mptrees),b("calls",P.mptrees),b("channels",P.mptrees),b("contracts",P.mptrees),b("ns",P.mptrees),b("oracles",P.mptrees)]),xt=[].concat(L,[b("contracts",P.rlpBinary),b("calls",P.rlpBinary),b("channels",P.rlpBinary),b("ns",P.rlpBinary),b("oracles",P.rlpBinary),b("accounts",P.rlpBinary)]),wt=[].concat(L,[b("values",P.rlpBinaries)]),kt=[].concat(L,[b("key",P.hex),b("value",P.rawBinary)]),Tt=[].concat(L,[b("contracts",P.rlpBinary)]),Ot=[].concat(L,[b("calls",P.rlpBinary)]),Ct=[].concat(L,[b("channels",P.rlpBinary)]),It=[].concat(L,[b("mtree",P.rlpBinary)]),At=[].concat(L,[b("otree",P.rlpBinary)]),jt=[].concat(L,[b("accounts",P.rlpBinary)]),Et=(s={},l()(s,k.account,{1:x(q,10),2:x(M,10)}),l()(s,k.signed,{1:x(D,g)}),l()(s,k.spend,{1:x(F,12)}),l()(s,k.namePreClaim,{1:x(K,33)}),l()(s,k.nameClaim,{1:x(H,32)}),l()(s,k.nameUpdate,{1:x(W,34)}),l()(s,k.nameTransfer,{1:x(Y,36)}),l()(s,k.nameRevoke,{1:x(Q,35)}),l()(s,k.contract,{1:x(z,40)}),l()(s,k.contractCreate,{1:x(G,42)}),l()(s,k.contractCall,{1:x(X,43)}),l()(s,k.contractCallResult,{1:x($,41)}),l()(s,k.oracleRegister,{1:x(J,22)}),l()(s,k.oracleExtend,{1:x(Z,25)}),l()(s,k.oracleQuery,{1:x(tt,23)}),l()(s,k.oracleResponse,{1:x(et,24)}),l()(s,k.channelCreate,{1:x(nt,50)}),l()(s,k.channelCloseMutual,{1:x(ot,53)}),l()(s,k.channelCloseSolo,{1:x(it,54)}),l()(s,k.channelSlash,{1:x(ct,55)}),l()(s,k.channelDeposit,{1:x(rt,51)}),l()(s,k.channelWithdraw,{1:x(at,52)}),l()(s,k.channelSettle,{1:x(st,56)}),l()(s,k.channelOffChain,{1:x(ut,57),2:x(ft,57)}),l()(s,k.channel,{1:x(pt,58),2:x(lt,58)}),l()(s,k.channelSnapshotSolo,{1:x(ht,59)}),l()(s,k.channelOffChainUpdateTransfer,{1:x(mt,570)}),l()(s,k.channelOffChainUpdateDeposit,{1:x(yt,571)}),l()(s,k.channelOffChainUpdateWithdrawal,{1:x(gt,572)}),l()(s,k.channelOffChainCreateContract,{1:x(dt,573)}),l()(s,k.channelOffChainCallContract,{1:x(vt,574)}),l()(s,k.proofOfInclusion,{1:x(bt,60)}),l()(s,k.stateTrees,{1:x(xt,62)}),l()(s,k.merklePatriciaTree,{1:x(wt,63)}),l()(s,k.merklePatriciaTreeValue,{1:x(kt,64)}),l()(s,k.contractsTree,{1:x(Tt,621)}),l()(s,k.contractCallsTree,{1:x(Ot,622)}),l()(s,k.channelsTree,{1:x(Ct,623)}),l()(s,k.nameserviceTree,{1:x(It,624)}),l()(s,k.oraclesTree,{1:x(At,625)}),l()(s,k.accountsTree,{1:x(jt,626)}),s),Pt=(u={},l()(u,10,{1:x(q,10),2:x(M,10)}),l()(u,g,{1:x(D,g)}),l()(u,12,{1:x(F,12)}),l()(u,33,{1:x(K,33)}),l()(u,32,{1:x(H,32)}),l()(u,34,{1:x(W,34)}),l()(u,36,{1:x(Y,36)}),l()(u,35,{1:x(Q,35)}),l()(u,40,{1:x(z,40)}),l()(u,42,{1:x(G,42)}),l()(u,43,{1:x(X,43)}),l()(u,41,{1:x($,41)}),l()(u,22,{1:x(J,22)}),l()(u,25,{1:x(Z,25)}),l()(u,23,{1:x(tt,23)}),l()(u,24,{1:x(et,24)}),l()(u,50,{1:x(nt,50)}),l()(u,53,{1:x(ot,53)}),l()(u,54,{1:x(it,54)}),l()(u,55,{1:x(ct,55)}),l()(u,51,{1:x(rt,51)}),l()(u,52,{1:x(at,52)}),l()(u,56,{1:x(st,56)}),l()(u,57,{1:x(ut,57),2:x(ft,57)}),l()(u,58,{1:x(pt,58),2:x(lt,58)}),l()(u,59,{1:x(ht,59)}),l()(u,570,{1:x(mt,570)}),l()(u,571,{1:x(yt,571)}),l()(u,572,{1:x(gt,572)}),l()(u,573,{1:x(dt,573)}),l()(u,574,{1:x(vt,574)}),l()(u,60,{1:x(bt,60)}),l()(u,62,{1:x(xt,62)}),l()(u,63,{1:x(wt,63)}),l()(u,64,{1:x(kt,64)}),l()(u,621,{1:x(Tt,621)}),l()(u,622,{1:x(Ot,622)}),l()(u,623,{1:x(Ct,623)}),l()(u,624,{1:x(It,624)}),l()(u,625,{1:x(At,625)}),l()(u,626,{1:x(jt,626)}),u),_t="error",St="warning",Bt=function(t,e,n){return[t,e,n]},Rt="insufficientFee",Nt="expiredTTL",Vt="insufficientBalanceForAmountFee",Ut="insufficientBalanceForAmount",Lt="nonceUsed",qt="nonceHigh",Mt="minGasPrice",Ft="vmAndAbiVersion",Dt={invalidSignature:{key:"InvalidSignature",type:_t,txKey:"signature"},insufficientFee:{key:"InsufficientFee",type:_t,txKey:"fee"},expiredTTL:{key:"ExpiredTTL",type:_t,txKey:"ttl"},insufficientBalanceForAmountFee:{key:"InsufficientBalanceForAmountFee",type:St,txKey:"fee"},insufficientBalanceForAmount:{key:"InsufficientBalanceForAmount",type:St,txKey:"amount"},nonceUsed:{key:"NonceUsed",type:_t,txKey:"nonce"},nonceHigh:{key:"NonceHigh",type:St,txKey:"nonce"},minGasPrice:{key:"minGasPrice",type:_t,txKey:"gasPrice"},vmAndAbiVersion:{key:"vmAndAbiVersion",type:_t,txKey:"ctVersion"}},Kt=[Bt(function(){return"The signature cannot be verified, please verify that you used the correct network id and the correct private key for the sender address"},"signature",Dt.invalidSignature)],Ht=[Bt(function(t){t.ctVersion;var e=t.consensusProtocolVersion,n=t.txType;return"Wrong abi/vm version, Supported is: ".concat(j[e]?JSON.stringify(j[e][n]):" None for this protocol "+e)},Ft,Dt.vmAndAbiVersion),Bt(function(){return"The gasPrice must be bigger then ".concat(w)},Mt,Dt.minGasPrice)],Wt=[Bt(function(t){var e=t.minFee;return"The fee for the transaction is too low, the minimum fee for this transaction is ".concat(e)},Rt,Dt.insufficientFee),Bt(function(t){var e=t.height;return"The TTL is already expired, the current height is ".concat(e)},Nt,Dt.expiredTTL),Bt(function(t){var e=t.balance;return"The account balance ".concat(e," is not enough to execute the transaction")},Vt,Dt.insufficientBalanceForAmountFee),Bt(function(t){var e=t.balance;return"The account balance ".concat(e," is not enough to execute the transaction")},Ut,Dt.insufficientBalanceForAmount),Bt(function(t){var e=t.accountNonce;return"The nonce is invalid(already used). Next valid nonce is ".concat(e+1,")")},Lt,Dt.nonceUsed),Bt(function(t){var e=t.accountNonce;return"The nonce is technically valid but will not be processed immediately by the node (next valid nonce is ".concat(e+1,")")},qt,Dt.nonceHigh)]},function(t,e,n){var r=n(84),a=n(11)(function(t,e){return r({},t,e)});t.exports=a},function(t,e,n){var r=n(2);t.exports=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),a.forEach(function(e){r(t,e,n[e])})}return t}},function(t,e,n){var r=n(81),a=n(125),o=n(82);t.exports=function(t,e){return r(t)||a(t,e)||o()}},function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"isBase64",function(){return g}),n.d(e,"ADDRESS_FORMAT",function(){return b}),n.d(e,"formatAddress",function(){return x}),n.d(e,"isAddressValid",function(){return w}),n.d(e,"addressToHex",function(){return k}),n.d(e,"addressFromDecimal",function(){return T}),n.d(e,"hash",function(){return O}),n.d(e,"nameId",function(){return C}),n.d(e,"sha256hash",function(){return I}),n.d(e,"salt",function(){return A}),n.d(e,"encodeBase64Check",function(){return j}),n.d(e,"checkSumFn",function(){return E}),n.d(e,"decodeBase64Check",function(){return P}),n.d(e,"encodeBase58Check",function(){return _}),n.d(e,"decodeBase58Check",function(){return S}),n.d(e,"hexStringToByte",function(){return B}),n.d(e,"encodeUnsigned",function(){return R}),n.d(e,"encodeContractAddress",function(){return N}),n.d(e,"generateKeyPairFromSecret",function(){return V}),n.d(e,"generateKeyPair",function(){return U}),n.d(e,"encryptPublicKey",function(){return L}),n.d(e,"encryptPrivateKey",function(){return q}),n.d(e,"encryptKey",function(){return M}),n.d(e,"decryptKey",function(){return F}),n.d(e,"sign",function(){return D}),n.d(e,"verify",function(){return K}),n.d(e,"prepareTx",function(){return H}),n.d(e,"personalMessageToBinary",function(){return W}),n.d(e,"signPersonalMessage",function(){return Y}),n.d(e,"verifyPersonalMessage",function(){return Q}),n.d(e,"aeEncodeKey",function(){return z}),n.d(e,"generateSaveWallet",function(){return G}),n.d(e,"decryptPrivateKey",function(){return X}),n.d(e,"decryptPubKey",function(){return $}),n.d(e,"assertedType",function(){return J}),n.d(e,"decodeTx",function(){return Z}),n.d(e,"encodeTx",function(){return tt}),n.d(e,"isValidKeypair",function(){return et}),n.d(e,"envKeypair",function(){return nt}),n.d(e,"decode",function(){return rt}),n.d(e,"encode",function(){return at}),n.d(e,"rlp",function(){return ot}),n.d(e,"deserialize",function(){return ht});var r=n(6),a=n.n(r),o=n(72),i=n.n(o),c=n(45),s=n(96),u=n(38),f=n.n(u),p=n(97),l=n.n(p),h=n(18),d=n(98),v=n.n(d),m=n(12),y=l.a.ModeOfOperation.ecb;function g(t){var e;return!(t.length%4>0||t.match(/[^0-9a-z+\/=]/i))&&!(-1!==(e=t.indexOf("="))&&!t.slice(e).match(/={1,2}/))}var b={sophia:1,api:2,raw:3};function x(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b.api,e=arguments.length>1?arguments[1]:void 0;switch(t){case b.api:return e;case b.sophia:return"0x".concat(Object(m.decode)(e,"ak").toString("hex"))}}function w(t){var e;try{e=32===S(J(t,"ak")).length}catch(t){e=!1}return e}function k(t){return"0x".concat(S(J(t,"ak")).toString("hex"))}function T(t){return z(Object(h.c)(t,!0))}function O(e){return t.from(Object(s.blake2b)(e,null,32))}function C(e){var n=t.allocUnsafe(32).fill(0);if(e){for(var r=e.split("."),a=0;a<r.length;a++)n=O(t.concat([n,O(r[a])]));return n}return n}function I(t){return v()("sha256").update(t).digest()}function A(){return Math.floor(Math.random()*Math.floor(Number.MAX_SAFE_INTEGER))}function j(e){var n=t.from(e),r=E(e);return t.concat([n,r],n.length+4).toString("base64")}function E(t){return I(I(t)).slice(0,4)}function P(e){var n=function(t){var e=t.slice(0,-4),n=t.slice(-4),r=E(e);if(n.equals(r))return e}(t.from(e,"base64"));if(!n)throw new Error("Invalid checksum");return t.from(n)}function _(e){return i.a.encode(t.from(e))}function S(t){return i.a.decode(t)}function B(t){if(!t)return new Uint8Array;for(var e=[],n=0,r=t.length;n<r;n+=2)e.push(parseInt(t.substr(n,2),16));return new Uint8Array(e)}function R(e){var n=t.allocUnsafe(4);return n.writeUInt32BE(e),n.slice(n.findIndex(function(t){return 0!==t}))}function N(e,n){var r=S(J(e,"ak")),a=t.concat([r,R(n)]);return"ct_".concat(_(O(a)))}function V(t){return f.a.sign.keyPair.fromSecretKey(t)}function U(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=f.a.sign.keyPair(),r=t.from(n.publicKey),a=t.from(n.secretKey);return e?{publicKey:r,secretKey:a}:{publicKey:"ak_".concat(_(r)),secretKey:a.toString("hex")}}function L(t,e){return M(t,Object(h.b)(32,e))}function q(t,e){return M(t,Object(h.a)(64,e))}function M(t,e){var n=I(t);return new y(n).encrypt(e)}function F(e,n){var r=t.from(n),a=I(e),o=new y(a);return t.from(o.decrypt(r))}function D(e,n){return f.a.sign.detached(t.from(e),t.from(n))}function K(t,e,n){return f.a.sign.detached.verify(new Uint8Array(t),e,n)}function H(e,n){return[t.from([11]),t.from([1]),[t.from(e)],n]}function W(e){var n=t.from("Ã¦ternity Signed Message:\n","utf8"),r=t.from(e,"utf8");if(r.length>=253)throw new Error("message too long");return t.concat([t.from([n.length]),n,t.from([r.length]),r])}function Y(t,e){return D(W(t),e)}function Q(t,e,n){return K(W(t),e,n)}function z(e){var n=_(t.from(e,"hex"));return"ak_".concat(n)}function G(t){var e=U(!0);return{publicKey:L(t,e.publicKey),secretKey:q(t,e.secretKey)}}function X(t,e){return F(t,e)}function $(t,e){return F(t,e).slice(0,65)}function J(t,e){if(RegExp("^".concat(e,"_.+$")).test(t))return t.split("_")[1];throw Error("Data doesn't match expected type ".concat(e))}function Z(e){return c.decode(t.from(P(J(e,"tx"))))}function tt(t){var e=j(c.encode(t));return"tx_".concat(e)}function et(t,e){return K("TheMessage",D("TheMessage",t),e)}function nt(t){var e={secretKey:t.WALLET_PRIV,publicKey:t.WALLET_PUB};if(e.publicKey&&e.secretKey)return e;throw Error("Environment variables WALLET_PRIV and WALLET_PUB need to be set")}var rt=c.decode,at=c.encode,ot=c,it={SIGNED_TX:11,CHANNEL_CREATE_TX:50,CHANNEL_CLOSE_MUTUAL_TX:53,CHANNEL_OFFCHAIN_TX:57,CHANNEL_OFFCHAIN_UPDATE_TRANSFER:570};function ct(t,e){if(e){var n=Object.entries(it).find(function(e){var n=a()(e,2),r=(n[0],n[1]);return t===r});return n?n[0]:t}return t}function st(t){return t.readIntBE(0,t.length)}function ut(t){var e={1:"ak",2:"nm",3:"cm",4:"ok",5:"ct",6:"ch"}[t.readUIntBE(0,1)],n=_(t.slice(1,t.length));return"".concat(e,"_").concat(n)}function ft(t){for(var e=[],n=0;n<t.length;n++)e.push(_(t[n]));return e}function pt(t,e){var n=st(t[0]),r={tag:ct(n,e.prettyTags),version:st(t[1])};switch(n){case it.CHANNEL_OFFCHAIN_UPDATE_TRANSFER:return Object.assign(r,{from:ut(t[2]),to:ut(t[3]),amount:st(t[4])})}return r}function lt(t,e){for(var n=[],r=0;r<t.length;r++)n.push(pt(rt(t[r]),e));return n}function ht(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{prettyTags:!1},n=st(t[0]),r={tag:ct(n,e.prettyTags),version:st(t[1])};switch(n){case it.SIGNED_TX:return Object.assign(r,{signatures:ft(t[2]),tx:ht(rt(t[3]),e)});case it.CHANNEL_CREATE_TX:return Object.assign(r,{initiator:ut(t[2]),initiatorAmount:st(t[3]),responder:ut(t[4]),responderAmount:st(t[5]),channelReserve:st(t[6]),lockPeriod:st(t[7]),ttl:st(t[8]),fee:st(t[9])});case it.CHANNEL_CLOSE_MUTUAL_TX:return Object.assign(r,{channelId:ut(t[2]),initiatorAmount:st(t[3]),responderAmount:st(t[4]),ttl:st(t[5]),fee:st(t[6]),nonce:st(t[7])});case it.CHANNEL_OFFCHAIN_TX:return Object.assign(r,{channelId:ut(t[2]),round:st(t[3]),updates:lt(t[4],e),state:_(t[5])})}}}.call(this,n(21).Buffer)},function(t,e,n){var r=n(89)(0);t.exports=r},function(e,n){e.exports=t},function(t,n){t.exports=e},function(t,e,n){var r=n(16),a=n(52);t.exports=function(t){return function e(n,o){switch(arguments.length){case 0:return e;case 1:return a(n)?e:r(function(e){return t(n,e)});default:return a(n)&&a(o)?e:a(n)?r(function(e){return t(e,o)}):a(o)?r(function(e){return t(n,e)}):t(n,o)}}}},function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"createSalt",function(){return v}),n.d(e,"buildContractId",function(){return y}),n.d(e,"oracleQueryId",function(){return g}),n.d(e,"formatSalt",function(){return b}),n.d(e,"commitmentHash",function(){return x}),n.d(e,"decode",function(){return k}),n.d(e,"encode",function(){return T}),n.d(e,"writeId",function(){return O}),n.d(e,"readId",function(){return C}),n.d(e,"writeInt",function(){return I}),n.d(e,"readInt",function(){return A}),n.d(e,"buildPointers",function(){return j}),n.d(e,"readPointers",function(){return E});var r=n(0),a=n.n(r),o=n(6),i=n.n(o),c=n(1),s=n.n(c),u=n(13),f=n.n(u),p=n(7),l=n(18),h=n(3),d=n(10),v=p.salt,m=["tx","st","ss","pi","ov","or","cb","cs","ba"];function y(e,n){var r=t.from([].concat(f()(k(e,"ak")),f()(Object(l.c)(n))));return T(Object(p.hash)(r),"ct")}function g(e,n,r){var a,o;return T(Object(p.hash)(t.from([].concat(f()(k(e,"ak")),f()((a=n,o=Object(l.c)(a,!0),t.concat([t.alloc(32-o.length),o]))),f()(k(r,"ok"))))),"oq")}function b(e){return t.from(e.toString(16).padStart(64,"0"),"hex")}function x(t){return w.apply(this,arguments)}function w(){return(w=s()(a.a.mark(function e(n){var r,o=arguments;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:v(),e.abrupt("return","cm_".concat(Object(p.encodeBase58Check)(Object(p.hash)(t.concat([Object(p.nameId)(n),b(r)])))));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function k(t,e){return e||(e=t.split("_")[0]),m.includes(e)?Object(p.decodeBase64Check)(Object(p.assertedType)(t,e)):Object(p.decodeBase58Check)(Object(p.assertedType)(t,e))}function T(t,e){return"".concat(e,"_").concat(m.includes(e)?Object(p.encodeBase64Check)(t):Object(p.encodeBase58Check)(t))}function O(e){var n=e.slice(0,2),r=h.i[n];if(!r)throw new Error("Id tag for prefix ".concat(n," not found."));return t.from([].concat(f()(Object(l.c)(r)),f()(k(e,n))))}function C(t){var e=t.readUIntBE(0,1),n=h.e[e];if(!n)throw new Error("Prefix for id-tag ".concat(e," not found."));return T(t.slice(1,t.length),n)}function I(t){return Object(l.c)(t,!0)}function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.from([]);return Object(d.BigNumber)(e.toString("hex"),16).toString(10)}function j(t){return t.map(function(t){return[Object(l.c)(t.key),O(t.id)]})}function E(t){return t.map(function(t){var e=i()(t,2),n=e[0],r=e[1];return Object.assign({key:n.toString(),id:C(r)})})}e.default={readPointers:E,buildPointers:j,buildContractId:y,readId:C,writeId:O,readInt:A,writeInt:I,encode:T,decode:k,commitmentHash:x,formatSalt:b,oracleQueryId:g,createSalt:v}}.call(this,n(21).Buffer)},function(t,e,n){var r=n(126),a=n(83),o=n(127);t.exports=function(t){return r(t)||a(t)||o()}},function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"calculateMinFee",function(){return w}),n.d(e,"calculateFee",function(){return T}),n.d(e,"validateParams",function(){return O}),n.d(e,"buildRawTx",function(){return C}),n.d(e,"unpackRawTx",function(){return I}),n.d(e,"buildTx",function(){return A}),n.d(e,"unpackTx",function(){return j});var r=n(5),a=n.n(r),o=n(19),i=n.n(o),c=n(2),s=n.n(c),u=n(13),f=n.n(u),p=n(6),l=n.n(p),h=n(10),d=n(7),v=n(3),m=n(12),y=n(18),g=n(73),b={delta:"delta",block:"block"};function x(t){var e=Object.entries(t).find(function(t){var e=l()(t,1)[0];return["oracleTtl","queryTtl","responseTtl"].includes(e)})||["",{}],n=l()(e,2),r=(n[0],n[1].value);return void 0===r?500:r}function w(t,e){var n=e.gas,r=void 0===n?0:n,o=e.params,i=Object(h.BigNumber)(1e9);if(!o)return Object(h.BigNumber)(v.c).times(i).toString(10);for(var c=k(t,{params:a()({},o,{fee:0}),multiplier:i,gas:r}),s=Object(h.BigNumber)(0);!c.eq(s);)s=c=k(t,{params:a()({},o,{fee:c}),multiplier:i,gas:r});return s.toString(10)}function k(t,e){var n=e.params,r=(e.gas,e.multiplier),o=A(a()({},n),t).rlpEncoded.length;return Object(v.m)(t).plus(Object(v.n)(t)({txSize:o,relativeTtl:x(n)})).times(r)}function T(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.gas,a=void 0===r?0:r,o=n.params,i=n.showWarning,c=void 0===i||i;!o&&c&&console.warn("Can't build transaction fee, we will use DEFAULT_FEE(".concat(v.c,")"));var s=w(e,{params:o,gas:a});return t&&Object(h.BigNumber)(s).gt(Object(h.BigNumber)(t))&&c&&console.warn("Transaction fee is lower then min fee! Min fee: ".concat(s)),t||s}function O(t,e,n){var r=n.excludeKeys,a=void 0===r?[]:r;return e.filter(function(t){var e=l()(t,1)[0];return!a.includes(e)&&"payload"!==e}).reduce(function(e,n){var r=l()(n,3),a=r[0],o=r[1],c=r[2];return Object.assign(e,function(t,e,n,r){var a=function(t,r){return t?{}:s()({},e,v.q[n](r))};if(null==t)return s()({},e,"Field is required");switch(n){case v.d.int:var o=(!isNaN(t)||h.BigNumber.isBigNumber(t))&&Object(h.BigNumber)(t).lt(0);return a((!isNaN(t)||h.BigNumber.isBigNumber(t))&&Object(h.BigNumber)(t).gte(0),{value:t,isMinusValue:o});case v.d.id:return a(v.i[t.split("_")[0]]&&t.split("_")[0]===r,{value:t,prefix:r});case v.d.binary:return a(t.split("_")[0]===r,{prefix:r,value:t});case v.d.string:return a(!0);case v.d.ctVersion:return a("object"===i()(t)&&t.hasOwnProperty("abiVersion")&&t.hasOwnProperty("vmVersion"));case v.d.pointers:return a(Array.isArray(t)&&!t.find(function(t){return t!==Object(t)}),{value:t});default:return{}}}(t[a],a,o,c))},{})}function C(e,n){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).excludeKeys,o=void 0===r?[]:r,i=O(e=function(t){return Object.entries(t).reduce(function(t,e){var n=l()(e,2),r=n[0],o=n[1];return t[r]=o,"oracleTtl"===r&&(t=a()({},t,{oracleTtlType:o.type===b.delta?0:1,oracleTtlValue:o.value})),"queryTtl"===r&&(t=a()({},t,{queryTtlType:o.type===b.delta?0:1,queryTtlValue:o.value})),"responseTtl"===r&&(t=a()({},t,{responseTtlType:o.type===b.delta?0:1,responseTtlValue:o.value})),t},{})}(e),n,{excludeKeys:o});if(Object.keys(i).length)throw new Error("Transaction build error. "+JSON.stringify(i));return n.filter(function(t){var e=l()(t,1)[0];return!o.includes(e)}).map(function(n){var r=l()(n,3),a=r[0],o=r[1],i=r[2];return function(e,n,r){switch(n){case v.d.int:return Object(m.writeInt)(e);case v.d.id:return Object(m.writeId)(e);case v.d.ids:return e.map(m.writeId);case v.d.bool:return t.from([e?1:0]);case v.d.binary:return Object(m.decode)(e,r);case v.d.hex:return t.from(e,"hex");case v.d.signatures:return e.map(t.from);case v.d.payload:case v.d.string:return Object(y.c)(e);case v.d.pointers:return Object(m.buildPointers)(e);case v.d.mptree:return e.map(g.b);case v.d.ctVersion:return t.from([].concat(f()(Object(y.c)(e.vmVersion)),[0],f()(Object(y.c)(e.abiVersion))));case v.d.callReturnType:switch(e){case"ok":return Object(m.writeInt)(0);case"error":return Object(m.writeInt)(1);case"revert":return Object(m.writeInt)(2);default:return e}default:return e}}(e[a],o,i)})}function I(e,n){return n.reduce(function(n,r,a){var o=l()(r,3),i=o[0],c=o[1],u=o[2];return Object.assign(n,s()({},i,function(e,n,r){if(!e)return"";switch(n){case v.d.ctVersion:var a=l()(e,3),o=a[0],i=(a[1],a[2]);return{vmVersion:Object(m.readInt)(t.from([o])),abiVersion:Object(m.readInt)(t.from([i]))};case v.d.int:return Object(m.readInt)(e);case v.d.id:return Object(m.readId)(e);case v.d.ids:return e.map(m.readId);case v.d.bool:return 1===e[0];case v.d.binary:return Object(m.encode)(e,r);case v.d.string:return e.toString();case v.d.payload:return Object(m.encode)(e,"ba");case v.d.pointers:return Object(m.readPointers)(e);case v.d.rlpBinary:return j(e,!0);case v.d.rlpBinaries:return e.map(function(t){return j(t,!0)});case v.d.rawBinary:return e;case v.d.hex:return e.toString("hex");case v.d.offChainUpdates:return e.map(function(t){return j(t,!0)});case v.d.callStack:return[Object(m.readInt)(e)];case v.d.mptree:return e.map(g.a);case v.d.callReturnType:switch(Object(m.readInt)(e)){case"0":return"ok";case"1":return"error";case"2":return"revert";default:return e}default:return e}}(e[a],c,u)))},{})}function A(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.excludeKeys,o=void 0===r?[]:r,i=n.prefix,c=void 0===i?"tx":i;if(!v.o[e])throw new Error("Transaction serialization not implemented for "+e);if(!v.o[e][v.r])throw new Error("Transaction serialization not implemented for "+e+" version "+v.r);var s=l()(v.o[e][v.r],2),u=s[0],f=s[1],p=C(a()({},t,{VSN:v.r,tag:f}),u,{excludeKeys:o}).filter(function(t){return void 0!==t}),h=d.rlp.encode(p);return{tx:Object(m.encode)(h,c),rlpEncoded:h,binary:p,txObject:I(p,u)}}function j(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?t:Object(m.decode)(t,"tx"),n=d.rlp.decode(e),r=Object(m.readInt)(n[0]);if(!v.l[r])return{message:"Transaction deserialization not implemented for tag "+r};var a=Object(m.readInt)(n[1]);if(!v.l[r][a])return{message:"Transaction deserialization not implemented for tag "+r+" version "+a};var o=l()(v.l[r][a],1)[0];return{txType:v.g[r],tx:I(n,o),rlpEncoded:e,binary:n}}e.default={calculateMinFee:w,calculateFee:T,unpackTx:j,unpackRawTx:I,buildTx:A,buildRawTx:C,validateParams:O}}.call(this,n(21).Buffer)},function(t,e){t.exports=n},function(t,e,n){var r=n(52);t.exports=function(t){return function e(n){return 0===arguments.length||r(n)?e:t.apply(this,arguments)}}},function(t,e,n){"use strict";var r=n(0),a=n.n(r),o=n(4),i=n.n(o),c=n(1),s=n.n(c),u=n(15),f=n.n(u),p=n(41),l=n(42),h=n(25),d=n(14),v=n(10);function m(){return(m=s()(a.a.mark(function t(e,n){var r,o;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=i()(this.Ae.defaults,n),t.next=3,this.signTransaction(e);case 3:return o=t.sent,t.abrupt("return",this.sendTransaction(o,r));case 5:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function y(){return(y=s()(a.a.mark(function t(e,n){var r,o,c,s=arguments;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=s.length>2&&void 0!==s[2]?s[2]:{},o=i()(this.Ae.defaults,r),t.t0=this,t.t1=i.a,t.t2=o,t.next=7,this.address();case 7:return t.t3=t.sent,t.t4=n,t.t5=e,t.t6={senderId:t.t3,recipientId:t.t4,amount:t.t5},t.t7=(0,t.t1)(t.t2,t.t6),t.next=14,t.t0.spendTx.call(t.t0,t.t7);case 14:return c=t.sent,t.abrupt("return",this.send(c,o));case 16:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function g(){return(g=s()(a.a.mark(function t(e,n){var r,o,c,s,u,f,p,l=arguments;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=l.length>2&&void 0!==l[2]?l[2]:{excludeFee:!1},!(e<0||e>1)){t.next=3;break}throw new Error("Percentage should be a number between 0 and 1, got ".concat(e));case 3:return o=i()(this.Ae.defaults,r),t.t0=v.BigNumber,t.t1=this,t.next=8,this.address();case 8:return t.t2=t.sent,t.next=11,t.t1.balance.call(t.t1,t.t2);case 11:return t.t3=t.sent,t.t4=e,c=(0,t.t0)(t.t3).times(t.t4),t.t5=this,t.t6=i.a,t.t7=o,t.next=19,this.address();case 19:return t.t8=t.sent,t.t9=n,t.t10=c,t.t11={senderId:t.t8,recipientId:t.t9,amount:t.t10},t.t12=(0,t.t6)(t.t7,t.t11),t.next=26,t.t5.spendTx.call(t.t5,t.t12);case 26:if(s=t.sent,u=d.default.unpackTx(s),f=u.tx,p=c,!r.excludeFee)for(;p.plus(f.fee).gt(c);)p=c.minus(f.fee);return t.t13=this,t.t14=i.a,t.t15=o,t.next=35,this.address();case 35:return t.t16=t.sent,t.t17=n,t.t18=p,t.t19={senderId:t.t16,recipientId:t.t17,amount:t.t18},t.t20=(0,t.t14)(t.t15,t.t19),t.next=42,t.t13.spendTx.call(t.t13,t.t20);case 42:return s=t.sent,t.abrupt("return",this.send(s,o));case 44:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}var b=f()(p.a,h.a,l.a,{methods:{send:function(t,e){return m.apply(this,arguments)},spend:function(t,e){return y.apply(this,arguments)},transferFunds:function(t,e){return g.apply(this,arguments)},destroyInstance:function(){var t=this;["destroyClient","destroyServer"].forEach(function(e){return t[e]&&"function"==typeof t[e]&&t[e]()})}},deepProps:{Ae:{defaults:{}}}});e.a=b},function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return a}),n.d(e,"b",function(){return o}),n.d(e,"c",function(){return i});var r=n(10);function a(e,n){var r=e-n.length;if(r>0){var a=new Uint8Array(r);return a.fill(0,r),t.concat([a,n])}return n}function o(e,n){var r=e-n.length;if(r>0){var a=new Uint8Array(r);return a.fill(0,r),t.concat([n,a])}return n}function i(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(void 0!==e){if(Number.isInteger(e)||r.BigNumber.isBigNumber(e)||n)return r.BigNumber.isBigNumber(e)||(e=Object(r.BigNumber)(e)),(a=e.toString(16)).length%2>0&&(a="0"+a),t.from(a,"hex");var a;if("string"==typeof e)return e.toString("utf-8");throw new Error("Byte serialization not supported")}}}).call(this,n(21).Buffer)},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(e){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?t.exports=r=function(t){return n(t)}:t.exports=r=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)},r(e)}t.exports=r},function(t,e){t.exports=r},function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var r=n(121),a=n(122),o=n(123);function i(){return s.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function c(t,e){if(i()<e)throw new RangeError("Invalid typed array length");return s.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=s.prototype:(null===t&&(t=new s(e)),t.length=e),t}function s(t,e,n){if(!(s.TYPED_ARRAY_SUPPORT||this instanceof s))return new s(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return p(this,t)}return u(this,t,e,n)}function u(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);s.TYPED_ARRAY_SUPPORT?(t=e).__proto__=s.prototype:t=l(t,e);return t}(t,e,n,r):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!s.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|d(e,n),a=(t=c(t,r)).write(e,n);a!==r&&(t=t.slice(0,a));return t}(t,e,n):function(t,e){if(s.isBuffer(e)){var n=0|h(e.length);return 0===(t=c(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?c(t,0):l(t,e);if("Buffer"===e.type&&o(e.data))return l(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function f(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function p(t,e){if(f(e),t=c(t,e<0?0:0|h(e)),!s.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function l(t,e){var n=e.length<0?0:0|h(e.length);t=c(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function h(t){if(t>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|t}function d(t,e){if(s.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return M(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return F(t).length;default:if(r)return M(t).length;e=(""+e).toLowerCase(),r=!0}}function v(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function m(t,e,n,r,a){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=a?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(a)return-1;n=t.length-1}else if(n<0){if(!a)return-1;n=0}if("string"==typeof e&&(e=s.from(e,r)),s.isBuffer(e))return 0===e.length?-1:y(t,e,n,r,a);if("number"==typeof e)return e&=255,s.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?a?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):y(t,[e],n,r,a);throw new TypeError("val must be string, number or Buffer")}function y(t,e,n,r,a){var o,i=1,c=t.length,s=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;i=2,c/=2,s/=2,n/=2}function u(t,e){return 1===i?t[e]:t.readUInt16BE(e*i)}if(a){var f=-1;for(o=n;o<c;o++)if(u(t,o)===u(e,-1===f?0:o-f)){if(-1===f&&(f=o),o-f+1===s)return f*i}else-1!==f&&(o-=o-f),f=-1}else for(n+s>c&&(n=c-s),o=n;o>=0;o--){for(var p=!0,l=0;l<s;l++)if(u(t,o+l)!==u(e,l)){p=!1;break}if(p)return o}return-1}function g(t,e,n,r){n=Number(n)||0;var a=t.length-n;r?(r=Number(r))>a&&(r=a):r=a;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var i=0;i<r;++i){var c=parseInt(e.substr(2*i,2),16);if(isNaN(c))return i;t[n+i]=c}return i}function b(t,e,n,r){return D(M(e,t.length-n),t,n,r)}function x(t,e,n,r){return D(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function w(t,e,n,r){return x(t,e,n,r)}function k(t,e,n,r){return D(F(e),t,n,r)}function T(t,e,n,r){return D(function(t,e){for(var n,r,a,o=[],i=0;i<t.length&&!((e-=2)<0);++i)n=t.charCodeAt(i),r=n>>8,a=n%256,o.push(a),o.push(r);return o}(e,t.length-n),t,n,r)}function O(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function C(t,e,n){n=Math.min(t.length,n);for(var r=[],a=e;a<n;){var o,i,c,s,u=t[a],f=null,p=u>239?4:u>223?3:u>191?2:1;if(a+p<=n)switch(p){case 1:u<128&&(f=u);break;case 2:128==(192&(o=t[a+1]))&&(s=(31&u)<<6|63&o)>127&&(f=s);break;case 3:o=t[a+1],i=t[a+2],128==(192&o)&&128==(192&i)&&(s=(15&u)<<12|(63&o)<<6|63&i)>2047&&(s<55296||s>57343)&&(f=s);break;case 4:o=t[a+1],i=t[a+2],c=t[a+3],128==(192&o)&&128==(192&i)&&128==(192&c)&&(s=(15&u)<<18|(63&o)<<12|(63&i)<<6|63&c)>65535&&s<1114112&&(f=s)}null===f?(f=65533,p=1):f>65535&&(f-=65536,r.push(f>>>10&1023|55296),f=56320|1023&f),r.push(f),a+=p}return function(t){var e=t.length;if(e<=I)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=I));return n}(r)}e.Buffer=s,e.SlowBuffer=function(t){+t!=t&&(t=0);return s.alloc(+t)},e.INSPECT_MAX_BYTES=50,s.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=i(),s.poolSize=8192,s._augment=function(t){return t.__proto__=s.prototype,t},s.from=function(t,e,n){return u(null,t,e,n)},s.TYPED_ARRAY_SUPPORT&&(s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0})),s.alloc=function(t,e,n){return function(t,e,n,r){return f(e),e<=0?c(t,e):void 0!==n?"string"==typeof r?c(t,e).fill(n,r):c(t,e).fill(n):c(t,e)}(null,t,e,n)},s.allocUnsafe=function(t){return p(null,t)},s.allocUnsafeSlow=function(t){return p(null,t)},s.isBuffer=function(t){return!(null==t||!t._isBuffer)},s.compare=function(t,e){if(!s.isBuffer(t)||!s.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,a=0,o=Math.min(n,r);a<o;++a)if(t[a]!==e[a]){n=t[a],r=e[a];break}return n<r?-1:r<n?1:0},s.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return s.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=s.allocUnsafe(e),a=0;for(n=0;n<t.length;++n){var i=t[n];if(!s.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(r,a),a+=i.length}return r},s.byteLength=d,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)v(this,e,e+1);return this},s.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)v(this,e,e+3),v(this,e+1,e+2);return this},s.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)v(this,e,e+7),v(this,e+1,e+6),v(this,e+2,e+5),v(this,e+3,e+4);return this},s.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?C(this,0,t):function(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return E(this,e,n);case"utf8":case"utf-8":return C(this,e,n);case"ascii":return A(this,e,n);case"latin1":case"binary":return j(this,e,n);case"base64":return O(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}.apply(this,arguments)},s.prototype.equals=function(t){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===s.compare(this,t)},s.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},s.prototype.compare=function(t,e,n,r,a){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===a&&(a=this.length),e<0||n>t.length||r<0||a>this.length)throw new RangeError("out of range index");if(r>=a&&e>=n)return 0;if(r>=a)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(a>>>=0)-(r>>>=0),i=(n>>>=0)-(e>>>=0),c=Math.min(o,i),u=this.slice(r,a),f=t.slice(e,n),p=0;p<c;++p)if(u[p]!==f[p]){o=u[p],i=f[p];break}return o<i?-1:i<o?1:0},s.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},s.prototype.indexOf=function(t,e,n){return m(this,t,e,n,!0)},s.prototype.lastIndexOf=function(t,e,n){return m(this,t,e,n,!1)},s.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var a=this.length-e;if((void 0===n||n>a)&&(n=a),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return g(this,t,e,n);case"utf8":case"utf-8":return b(this,t,e,n);case"ascii":return x(this,t,e,n);case"latin1":case"binary":return w(this,t,e,n);case"base64":return k(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var I=4096;function A(t,e,n){var r="";n=Math.min(t.length,n);for(var a=e;a<n;++a)r+=String.fromCharCode(127&t[a]);return r}function j(t,e,n){var r="";n=Math.min(t.length,n);for(var a=e;a<n;++a)r+=String.fromCharCode(t[a]);return r}function E(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var a="",o=e;o<n;++o)a+=q(t[o]);return a}function P(t,e,n){for(var r=t.slice(e,n),a="",o=0;o<r.length;o+=2)a+=String.fromCharCode(r[o]+256*r[o+1]);return a}function _(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function S(t,e,n,r,a,o){if(!s.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>a||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function B(t,e,n,r){e<0&&(e=65535+e+1);for(var a=0,o=Math.min(t.length-n,2);a<o;++a)t[n+a]=(e&255<<8*(r?a:1-a))>>>8*(r?a:1-a)}function R(t,e,n,r){e<0&&(e=4294967295+e+1);for(var a=0,o=Math.min(t.length-n,4);a<o;++a)t[n+a]=e>>>8*(r?a:3-a)&255}function N(t,e,n,r,a,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function V(t,e,n,r,o){return o||N(t,0,n,4),a.write(t,e,n,r,23,4),n+4}function U(t,e,n,r,o){return o||N(t,0,n,8),a.write(t,e,n,r,52,8),n+8}s.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),s.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=s.prototype;else{var a=e-t;n=new s(a,void 0);for(var o=0;o<a;++o)n[o]=this[o+t]}return n},s.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||_(t,e,this.length);for(var r=this[t],a=1,o=0;++o<e&&(a*=256);)r+=this[t+o]*a;return r},s.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||_(t,e,this.length);for(var r=this[t+--e],a=1;e>0&&(a*=256);)r+=this[t+--e]*a;return r},s.prototype.readUInt8=function(t,e){return e||_(t,1,this.length),this[t]},s.prototype.readUInt16LE=function(t,e){return e||_(t,2,this.length),this[t]|this[t+1]<<8},s.prototype.readUInt16BE=function(t,e){return e||_(t,2,this.length),this[t]<<8|this[t+1]},s.prototype.readUInt32LE=function(t,e){return e||_(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},s.prototype.readUInt32BE=function(t,e){return e||_(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},s.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||_(t,e,this.length);for(var r=this[t],a=1,o=0;++o<e&&(a*=256);)r+=this[t+o]*a;return r>=(a*=128)&&(r-=Math.pow(2,8*e)),r},s.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||_(t,e,this.length);for(var r=e,a=1,o=this[t+--r];r>0&&(a*=256);)o+=this[t+--r]*a;return o>=(a*=128)&&(o-=Math.pow(2,8*e)),o},s.prototype.readInt8=function(t,e){return e||_(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},s.prototype.readInt16LE=function(t,e){e||_(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt16BE=function(t,e){e||_(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt32LE=function(t,e){return e||_(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},s.prototype.readInt32BE=function(t,e){return e||_(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},s.prototype.readFloatLE=function(t,e){return e||_(t,4,this.length),a.read(this,t,!0,23,4)},s.prototype.readFloatBE=function(t,e){return e||_(t,4,this.length),a.read(this,t,!1,23,4)},s.prototype.readDoubleLE=function(t,e){return e||_(t,8,this.length),a.read(this,t,!0,52,8)},s.prototype.readDoubleBE=function(t,e){return e||_(t,8,this.length),a.read(this,t,!1,52,8)},s.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||S(this,t,e,n,Math.pow(2,8*n)-1,0);var a=1,o=0;for(this[e]=255&t;++o<n&&(a*=256);)this[e+o]=t/a&255;return e+n},s.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||S(this,t,e,n,Math.pow(2,8*n)-1,0);var a=n-1,o=1;for(this[e+a]=255&t;--a>=0&&(o*=256);)this[e+a]=t/o&255;return e+n},s.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||S(this,t,e,1,255,0),s.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},s.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||S(this,t,e,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):B(this,t,e,!0),e+2},s.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||S(this,t,e,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):B(this,t,e,!1),e+2},s.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||S(this,t,e,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):R(this,t,e,!0),e+4},s.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||S(this,t,e,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):R(this,t,e,!1),e+4},s.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var a=Math.pow(2,8*n-1);S(this,t,e,n,a-1,-a)}var o=0,i=1,c=0;for(this[e]=255&t;++o<n&&(i*=256);)t<0&&0===c&&0!==this[e+o-1]&&(c=1),this[e+o]=(t/i>>0)-c&255;return e+n},s.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var a=Math.pow(2,8*n-1);S(this,t,e,n,a-1,-a)}var o=n-1,i=1,c=0;for(this[e+o]=255&t;--o>=0&&(i*=256);)t<0&&0===c&&0!==this[e+o+1]&&(c=1),this[e+o]=(t/i>>0)-c&255;return e+n},s.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||S(this,t,e,1,127,-128),s.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},s.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||S(this,t,e,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):B(this,t,e,!0),e+2},s.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||S(this,t,e,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):B(this,t,e,!1),e+2},s.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||S(this,t,e,4,2147483647,-2147483648),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):R(this,t,e,!0),e+4},s.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||S(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):R(this,t,e,!1),e+4},s.prototype.writeFloatLE=function(t,e,n){return V(this,t,e,!0,n)},s.prototype.writeFloatBE=function(t,e,n){return V(this,t,e,!1,n)},s.prototype.writeDoubleLE=function(t,e,n){return U(this,t,e,!0,n)},s.prototype.writeDoubleBE=function(t,e,n){return U(this,t,e,!1,n)},s.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var a,o=r-n;if(this===t&&n<e&&e<r)for(a=o-1;a>=0;--a)t[a+e]=this[a+n];else if(o<1e3||!s.TYPED_ARRAY_SUPPORT)for(a=0;a<o;++a)t[a+e]=this[a+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},s.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var a=t.charCodeAt(0);a<256&&(t=a)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!s.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var i=s.isBuffer(t)?t:M(new s(t,r).toString()),c=i.length;for(o=0;o<n-e;++o)this[o+e]=i[o%c]}return this};var L=/[^+\/0-9A-Za-z-_]/g;function q(t){return t<16?"0"+t.toString(16):t.toString(16)}function M(t,e){var n;e=e||1/0;for(var r=t.length,a=null,o=[],i=0;i<r;++i){if((n=t.charCodeAt(i))>55295&&n<57344){if(!a){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(i+1===r){(e-=3)>-1&&o.push(239,191,189);continue}a=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),a=n;continue}n=65536+(a-55296<<10|n-56320)}else a&&(e-=3)>-1&&o.push(239,191,189);if(a=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function F(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(L,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function D(t,e,n,r){for(var a=0;a<r&&!(a+n>=e.length||a>=t.length);++a)e[a+n]=t[a];return a}}).call(this,n(120))},function(t,e,n){var r=n(16),a=n(24),o=n(135),i=!{toString:null}.propertyIsEnumerable("toString"),c=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],s=function(){"use strict";return arguments.propertyIsEnumerable("length")}(),u=function(t,e){for(var n=0;n<t.length;){if(t[n]===e)return!0;n+=1}return!1},f=r("function"!=typeof Object.keys||s?function(t){if(Object(t)!==t)return[];var e,n,r=[],f=s&&o(t);for(e in t)!a(e,t)||f&&"length"===e||(r[r.length]=e);if(i)for(n=c.length-1;n>=0;)a(e=c[n],t)&&!u(r,e)&&(r[r.length]=e),n-=1;return r}:function(t){return Object(t)!==t?[]:Object.keys(t)});t.exports=f},function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return s});var r=n(110),a=n.n(r),o=n(79),i=n.n(o);function c(t){return t.replace(/_./g,function(t){return i()(t[1])})}function s(t){return t.replace(/[A-Z]/g,function(t){return"_".concat(a()(t))})}},function(t,e){t.exports=function(t,e){return Object.prototype.hasOwnProperty.call(e,t)}},function(t,e,n){"use strict";(function(t){var r=n(0),a=n.n(r),o=n(1),i=n.n(o),c=n(15),s=n.n(c),u=n(9),f=n(7),p=n(14),l=n(3),h="ae_mainnet";function d(){return(d=i()(a.a.mark(function e(n){var r,o,i,c;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.getNetworkId(),o=f.decodeBase64Check(f.assertedType(n,"tx")),i=t.concat([t.from(r),o]),e.next=5,this.sign(i);case 5:return e.t0=e.sent,c=[e.t0],e.abrupt("return",Object(p.buildTx)({encodedTx:o,signatures:c},l.p.signed).tx);case 8:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var v=s()({init:function(t){var e=t.networkId;!this.networkId&&e&&(this.networkId=e)},methods:{signTransaction:function(t){return d.apply(this,arguments)},getNetworkId:function(){return this.networkId||this.nodeNetworkId||h}},deepConf:{Ae:{methods:["sign","address","signTransaction","getNetworkId"]}}},Object(u.required)({methods:{sign:u.required,address:u.required}}));e.a=v}).call(this,n(21).Buffer)},function(t,e,n){var r=n(16)(function(t){for(var e={},n=0;n<t.length;)e[t[n][0]]=t[n][1],n+=1;return e});t.exports=r},function(t,e,n){"use strict";var r=n(30),a=n.n(r),o=n(60),i=n.n(o),c=n(69),s=n.n(c),u=n(100),f=n.n(u),p=n(101),l=n.n(p),h=n(0),d=n.n(h),v=n(1),m=n.n(v),y=n(15);function g(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=e.stamp,r=e.args,a=e.instance;return n.compose.deepConfiguration.AsyncInit.initializers.reduce(function(){var e=m()(d.a.mark(function e(a,o){var i;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve(a);case 2:if(a=e.sent,"function"!=typeof o){e.next=8;break}return e.next=6,Promise.resolve(o.call(a,t,{stamp:n,args:r,instance:a}));case 6:return i=e.sent,e.abrupt("return",void 0===i?a:i);case 8:return e.abrupt("return",a);case 9:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),a)}var b=n.n(y)()({deepConf:{AsyncInit:{initializers:[]}},composers:function(t){var e=t.stamp,n=t.composables;e.compose.deepConfiguration.AsyncInit.initializers=l()([g],f()(s.a,i()(n.map(function(t){return a()(["compose","deepConfiguration","AsyncInit","initializers"],t)||(t.compose||t).initializers||[]})))),e.compose.initializers=[g]}});e.a=b},function(t,e,n){var r=n(53),a=n(11)(r);t.exports=a},function(t,e){t.exports=a},function(t,e,n){var r=n(11)(function(t,e){for(var n=e,r=0;r<t.length;){if(null==n)return;n=n[t[r]],r+=1}return n});t.exports=r},function(t,e,n){var r=n(16),a=n(143),o=r(function(t){return a(t,[])});t.exports=o},function(t,e,n){var r=n(68)(1,"join");t.exports=r},function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return T});var r=n(6),a=n.n(r),o=n(0),i=n.n(o),c=n(4),s=n.n(c),u=n(1),f=n.n(u),p=n(17),l=n(7),h=n(58),d=n(99),v=n(44);function m(){return(m=f()(i.a.mark(function e(n){var r,a,o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.from(n.returnValue).toString(),!Object(l.isBase64)(r.slice(3))){e.next=4;break}throw a=t.from(r.slice(3),"base64").toString(),Object.assign(Error("Invocation failed: ".concat(r,". Decoded: ").concat(a)),s()(n,{error:r,decodedError:a}));case 4:return e.next=6,this.contractDecodeDataAPI("string",r);case 6:throw o=e.sent,Object.assign(Error("Invocation failed: ".concat(r,". Decoded: ").concat(o)),s()(n,{error:r,decodedError:o}));case 8:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function y(){return(y=f()(i.a.mark(function t(e,n,r){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.contractEncodeCallDataAPI(e,n,r));case 1:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function g(){return(g=f()(i.a.mark(function t(e,n,r,a,o){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.contractDecodeCallResultAPI(e,n,r,a,o));case 1:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function b(){return(b=f()(i.a.mark(function t(e,n,r){var o,c,u,f,p,l,h,d,v,m,y,g,b,x,w=this,k=arguments;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=k.length>3&&void 0!==k[3]?k[3]:[],c=k.length>4&&void 0!==k[4]?k[4]:{},u=c.top,f=c.options,p=void 0===f?{}:f,l=s()(this.Ae.defaults,p),t.t0=this,t.t1=s.a,t.t2=l,t.next=8,this.address();case 8:return t.t3=t.sent,t.t4=n,t.next=12,this.contractEncodeCall(e,r,o);case 12:return t.t5=t.sent,t.t6={callerId:t.t3,contractId:t.t4,callData:t.t5},t.t7=(0,t.t1)(t.t2,t.t6),t.next=17,t.t0.contractCallTx.call(t.t0,t.t7);case 17:if(h=t.sent,!u||isNaN(u)){t.next=22;break}return t.next=21,this.getKeyBlock(u);case 21:u=t.sent.hash;case 22:return t.t8=a.a,t.t9=this,t.t10=[h],t.t11=l.amount,t.next=28,this.address();case 28:return t.t12=t.sent,t.t13={amount:t.t11,pubKey:t.t12},t.t14=[t.t13],t.t15=u,t.next=34,t.t9.txDryRun.call(t.t9,t.t10,t.t14,t.t15);case 34:if(t.t16=t.sent.results,d=(0,t.t8)(t.t16,1),v=d[0],m=v.result,y=v.callObj,g=v.reason,"ok"===m){t.next=42;break}throw new Error("Dry run error, "+g);case 42:if(b=y.returnType,x=y.returnValue,"ok"===b){t.next=46;break}return t.next=46,this.handleCallError(y);case 46:return t.abrupt("return",{result:y,decode:function(){return w.contractDecodeData(e,r,x,b,p)}});case 47:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function x(){return(x=f()(i.a.mark(function t(e,n,r){var a,o,c,u,f,p,l,h,d=this,v=arguments;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=v.length>3&&void 0!==v[3]?v[3]:[],o=v.length>4&&void 0!==v[4]?v[4]:{},c=s()(this.Ae.defaults,o),t.t0=this,t.t1=s.a,t.t2=c,t.next=8,this.address();case 8:return t.t3=t.sent,t.t4=n,t.next=12,this.contractEncodeCall(e,r,a);case 12:return t.t5=t.sent,t.t6={callerId:t.t3,contractId:t.t4,callData:t.t5},t.t7=(0,t.t1)(t.t2,t.t6),t.next=17,t.t0.contractCallTx.call(t.t0,t.t7);case 17:return u=t.sent,t.next=20,this.send(u,c);case 20:return f=t.sent,p=f.hash,l=f.rawTx,t.next=25,this.getTxInfo(p);case 25:if("ok"!==(h=t.sent).returnType){t.next=30;break}return t.abrupt("return",{hash:p,rawTx:l,result:h,decode:function(){return d.contractDecodeData(e,r,h.returnValue,h.returnType)}});case 30:return t.next=32,this.handleCallError(h);case 32:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function w(){return(w=f()(i.a.mark(function t(e,n){var r,a,o,c,u,p,l,h,d,v,m,y,g=this,b=arguments;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=b.length>2&&void 0!==b[2]?b[2]:[],a=b.length>3&&void 0!==b[3]?b[3]:{},o=s()(this.Ae.defaults,a),t.next=5,this.contractEncodeCall(n,"init",r);case 5:return c=t.sent,t.next=8,this.address();case 8:return u=t.sent,t.next=11,this.contractCreateTx(s()(o,{callData:c,code:e,ownerId:u}));case 11:return p=t.sent,l=p.tx,h=p.contractId,t.next=16,this.send(l,o);case 16:return d=t.sent,v=d.hash,m=d.rawTx,t.next=21,this.getTxInfo(v);case 21:if("ok"!==(y=t.sent).returnType){t.next=26;break}return t.abrupt("return",Object.freeze({result:y,owner:u,transaction:v,rawTx:m,address:h,call:function(){var t=f()(i.a.mark(function t(e){var r,a,o=arguments;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:[],a=o.length>2?o[2]:void 0,t.abrupt("return",g.contractCall(n,h,e,r,a));case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),callStatic:function(){var t=f()(i.a.mark(function t(e){var r,a,o=arguments;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:[],a=o.length>2?o[2]:void 0,t.abrupt("return",g.contractCallStatic(n,h,e,r,a));case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),createdAt:new Date}));case 26:return t.next=28,this.handleCallError(y);case 28:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function k(){return(k=f()(i.a.mark(function t(e){var n,r,a=this,o=arguments;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:{},t.next=3,this.compileContractAPI(e,n);case 3:return r=t.sent,t.abrupt("return",Object.freeze(Object.assign({encodeCall:function(){var t=f()(i.a.mark(function t(n,r){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",a.contractEncodeCall(e,n,r));case 1:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}(),deploy:function(){var t=f()(i.a.mark(function t(n){var o,c=arguments;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=c.length>1&&void 0!==c[1]?c[1]:{},t.abrupt("return",a.contractDeploy(r,e,n,o));case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},{bytecode:r})));case 5:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}var T=p.a.compose(v.a,d.a,{methods:{contractCompile:function(t){return k.apply(this,arguments)},contractCallStatic:function(t,e,n){return b.apply(this,arguments)},contractDeploy:function(t,e){return w.apply(this,arguments)},contractCall:function(t,e,n){return x.apply(this,arguments)},contractEncodeCall:function(t,e,n){return y.apply(this,arguments)},contractDecodeData:function(t,e,n,r,a){return g.apply(this,arguments)},handleCallError:function(t){return m.apply(this,arguments)}},deepProps:{Ae:{defaults:{deposit:0,gasPrice:1e9,amount:0,gas:1579e3,options:""}}}}),O=T.compose(h.a);e.b=O}).call(this,n(21).Buffer)},function(t,e,n){"use strict";var r=n(0),a=n.n(r),o=n(31),i=n.n(o),c=n(49),s=n.n(c),u=n(28),f=n.n(u),p=n(1),l=n.n(p),h=n(15),d=n.n(h),v=n(29),m=n.n(v),y=n(50),g=n.n(y),b=n(60),x=n.n(b),w=n(102),k=n.n(w),T=n(63),O=n.n(T),C=n(4),I=n.n(C),A=n(103),j=n.n(A),E=n(64),P=n.n(E),_=n(74),S=n.n(_),B=n(104),R=n.n(B),N=n(105),V=n.n(N),U=n(106),L=n.n(U),q=n(8),M=n.n(q),F=n(75),D=n.n(F),K=n(26),H=n.n(K),W=n(71),Y=n.n(W),Q=n(107),z=n.n(Q),G=n(35),X=n.n(G),$=n(76),J=n.n($),Z=n(77),tt=n.n(Z),et=n(108),nt=n.n(et),rt=n(51),at=n.n(rt),ot=n(48),it=n.n(ot),ct=n(40),st=n.n(ct),ut=n(22),ft=n.n(ut),pt=n(109),lt=n.n(pt),ht=n(32),dt=n.n(ht),vt=n(39),mt=n.n(vt),yt=n(30),gt=n.n(yt),bt=n(6),xt=n.n(bt),wt=n(78),kt=n.n(wt),Tt=n(61),Ot=n.n(Tt),Ct=n(27),It=n(23);function At(t,e){return kt()(e).reduce(function(t,e){var n=xt()(e,2),r=n[0],a=n[1];return t.replace("{".concat(r,"}"),a)},t)}function jt(t,e,n){var r=function(){var n=gt()(t,e).match(/^#\/definitions\/(.+)/);if(void 0!==n)return n[1];throw Error("Reference path does not meet specification: ".concat(t))}();if(r in n)return n[r];throw Error("Couldn't find definition for ".concat(r))}function Et(t,e,n){var r=Error(t);return Object.assign(r,{spec:e,value:n})}var Pt={integer:function(t,e,n){if("Number"===mt()(t))return Math.floor(t);throw Et("Not an integer",e,t)},enum:function(t,e,n){var r=e.enum;if(f()(t,r))return t;throw Et("Not one of [".concat(dt()(", ",r),"]"),e,t)},string:function(t,e,n){if("String"===mt()(t))return t;throw Et("Not a string",e,t)},object:function(t,e,n){if("Object"===mt()(t)){var r=(e.required||[]).map(It.b),a=Vt(e.properties),o=lt()(r,ft()(t));if(o.length>0)throw Et("Required properties missing: ".concat(dt()(", ",o)),e,t);return st()(function(t,e){return function(t,e){try{return e()}catch(e){throw Object.assign(e,{path:[t].concat(e.path||[])})}}(e,function(){return _t(t,a[e],n)})},it()(s.a,at()(ft()(a),t)))}throw Et("Not an object",e,t)},array:function(t,e,n){if("Array"===mt()(t))return t.map(function(t){return _t(t,e.items,n)});throw Et("Not an array",e,t)},schema:function(t,e,n){return _t(t,jt(["schema","$ref"],e,n),n)},$ref:function(t,e,n){return _t(t,jt(["$ref"],e,n),n)},allOf:function(t,e,n){return nt()(e.allOf.map(function(e){return _t(t,e,n)}))}};function _t(t,e,n){return(Pt[function(t){if("schema"in t)return"schema";if("$ref"in t)return"$ref";if("enum"in t)return"enum";if("allOf"in t)return"allOf";if("type"in t)return t.type;throw Object.assign(Error("Could not determine type"),{spec:t})}(e)]||function(){throw Object.assign(Error("Unsupported type"),{spec:e})})(t,e,n)}var St={headers:{"Content-Type":"application/json"},transformResponse:[function(t){try{return Ot()({storeAsString:!0}).parse(t)}catch(e){return t}}]},Bt={get:function(t){return function(e){return m.a.get(e,tt()(St,t))}},post:function(t){return function(e,n){return m.a.post(e,n,tt()(St,t))}}};var Rt=Y()(function(t,e){return({Object:function(e){return H()(kt()(e).map(function(e){var n=e[0],r=e[1];return[t(n),Rt(t,r)]}))},Array:function(e){return e.map(Rt(t))}}[mt()(e)]||D.a)(e)});function Nt(t){return Rt(It.a,t)}function Vt(t){return Rt(It.b,t)}function Ut(t){if(1===t.length)return M()(t);throw Error("Expected exactly one element in ".concat(t))}function Lt(t){var e=t.config,n=e.method,r=e.url,a=t.response,o=a.status,c=a.data,s=L()("reason",c)?c.reason:i()(c);return"".concat(n.toUpperCase()," to ").concat(r," failed with ").concat(o,": ").concat(s)}var qt=V()(function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},c=o.config,u=o.errorHandler;delete(c=c||{}).transformResponse;var f=n.operationId,p=n.description,h=n.parameters,d="".concat(M()(f).toLowerCase()).concat(R()(1,f)),v=function(t){return t.map(function(t){return z()("name",Object(It.b)(t.name),t)})}(h),m=function(t){var e=J()(function(t){return t.required?"req":"opts"},t),n=e.req,r=e.opts,a=J()(function(t){return t.in},t),o=a.path,i=a.query,c=a.body;return{pathArgs:X()("name",o||[]),queryArgs:X()("name",i||[]),bodyArgs:X()("name",c||[]),req:n||[],opts:r||[]}}(v),y=m.pathArgs,g=m.queryArgs,b=m.bodyArgs,x=m.req,w=m.opts,T=X()("name",w),C=S()(P()("name"),v),A=function(t,e,n){var r=e.length?"".concat(dt()(", ",X()("name",e))):null,a=n.length?"{".concat(dt()(", ",X()("name",n)),"}"):null;return"".concat(t," (").concat(dt()(", ",[r,a].filter(D.a)),")")}(d,x,w),E=Bt[e](c);return function(n,o){var c=l()(a.a.mark(function n(){var c,f,p,l,h,v,m,w,P,_,S=arguments;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return c=this.Swagger.defaults,n.prev=1,f=function(){if(S.length===x.length)return[Array.from(S),c];if(S.length===x.length+1)return[j()(1,S),I()(c,O()(S))];throw Error("Function call doesn't conform to ".concat(A))}(),p=xt()(f,2),l=p[0],(h=p[1]).debug&&console.log("Invoked ".concat(d," with ").concat(i()(l)," ").concat(i()(h))),v=I()(it()(s.a,at()(T,h)),k()(X()("name",x),l)),m=st()(function(t,e){try{return _t(t,C[e],r)}catch(r){var n=[e].concat(r.path||[]);throw Object.assign(r,{path:n,value:t,message:"validating ".concat(dt()(" -> ",n),": ").concat(r.message)})}},v),w=At(t,Nt(at()(y,m))),P=Nt(function(){if("get"===e)return{params:at()(g,m)};if("post"===e)return m[Ut(b)];throw Error("Unsupported method ".concat(e))}()),h.debug&&console.log("Going to ".concat(e.toUpperCase()," ").concat(o).concat(w," with ").concat(i()(P))),n.prev=9,n.next=12,E("".concat(o).concat(w),P).catch(this.axiosError(u));case 12:return _=n.sent,n.abrupt("return",h.fullResponse?_:Vt(_.data));case 16:throw n.prev=16,n.t0=n.catch(9),gt()(["response","data"],n.t0)&&(n.t0.message=Lt(n.t0)),n.t0;case 20:n.next=26;break;case 22:throw n.prev=22,n.t1=n.catch(1),n.t1.message="While calling ".concat(A,", ").concat(n.t1.message),n.t1;case 26:case"end":return n.stop()}},n,this,[[1,22],[9,16]])})).bind(n);return Object.assign(c,{signature:A,description:p}),Object.defineProperties(c,{name:{value:d,writable:!1},length:{value:x.length+(w.length?1:0),writable:!1}})}}),Mt=d()(Ct.a,{init:function(){var t=l()(a.a.mark(function t(e,n){var r,o,i,c,s,u,f=this;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.swag,o=void 0===r?this.swag:r,i=e.axiosConfig,n.stamp,c=o.paths,s=o.definitions,u=S()(P()("name"),x()(g()(st()(function(t,e){return g()(st()(function(t,n){return qt(e,n,t,s,i)(f,f.urlFor(o.basePath,t))},t))},c)))),t.abrupt("return",Object.assign(this,{methods:ft()(u),api:u}));case 5:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),deepProps:{Swagger:{defaults:{debug:!1,txEncoding:"json"}}},statics:{debugSwagger:function(t){return this.deepProps({Swagger:{defaults:{debug:t}}})}}}),Ft=n(62);function Dt(t,e){return Kt.apply(this,arguments)}function Kt(){return(Kt=l()(a.a.mark(function t(e,n){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.get("".concat(e,"/api"),n);case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}},t)}))).apply(this,arguments)}var Ht=function(t){var e=t.url,n=t.internalUrl;return function(t,r){var a=r.tags,o=r.operationId;if(f()("external",a))return"".concat(e).concat(t);if(!s()(n)&&f()("internal",a))return"".concat(n).concat(t);throw Error("Method ".concat(o," is unsupported. No interface for ").concat(i()(a)))}};function Wt(){return(Wt=l()(a.a.mark(function t(){var e,n,r,o,i=arguments;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=i.length>0&&void 0!==i[0]?i[0]:[],n=i.length>1?i[1]:void 0,e){t.next=4;break}throw new Error("Protocols must be an array");case 4:if(n){t.next=8;break}return t.next=7,this.api.getCurrentKeyBlock();case 7:n=t.sent.height;case 8:if(!(n<0)){t.next=10;break}throw new Error("height must be a number >= 0");case 10:return r=e.reduce(function(t,e){var r=t.effectiveAtHeight,a=t.version;return n>=e.effectiveAtHeight&&e.effectiveAtHeight>r?{effectiveAtHeight:e.effectiveAtHeight,version:e.version}:{effectiveAtHeight:r,version:a}},{effectiveAtHeight:-1,version:0}),o=r.version,t.abrupt("return",o);case 12:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}var Yt=d()({init:function(){var t=l()(a.a.mark(function t(e){var n,r,o,i,c,s,u,f;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.url,r=void 0===n?this.url:n,o=e.internalUrl,i=void 0===o?this.internalUrl:o,c=e.axiosConfig,s=(c=void 0===c?{}:c).config,u=c.errorHandler,r=r.replace(/\/?$/,""),i=i.replace(/\/?$/,""),t.next=7,Dt(r,s).catch(this.axiosError(u));case 7:return f=t.sent,this.version=f.info.version,t.abrupt("return",Object.assign(this,{url:r,internalUrl:i,swag:f,urlFor:Ht({url:r,internalUrl:i})}));case 10:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),methods:{axiosError:function(t){return function(e){if(!t||"function"!=typeof t)throw e;return t(e)}},getNodeInfo:function(){return{url:this.url,internalUrl:this.internalUrl,nodeNetworkId:this.nodeNetworkId,version:this.version}},getConsensusProtocolVersion:function(){return Wt.apply(this,arguments)}},props:{version:null,consensusProtocolVersion:null,nodeNetworkId:null}},Mt,{init:function(){var t=l()(a.a.mark(function t(e){var n,r,o,i,c,s,u;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.forceCompatibility,r=void 0!==n&&n,t.next=3,this.api.getStatus();case 3:return o=t.sent,i=o.nodeRevision,c=o.genesisKeyBlockHash,s=o.networkId,u=o.protocols,t.next=10,this.getConsensusProtocolVersion(u);case 10:if(this.consensusProtocolVersion=t.sent,Object(Ft.a)(this.version.split("-")[0],Qt,zt)||r){t.next=13;break}throw new Error("Unsupported node version ".concat(this.version,". ")+"Supported: >= ".concat(Qt," < ").concat(zt));case 13:return this.nodeNetworkId=s,t.abrupt("return",Object.assign(this,{revision:i,genesisHash:c}));case 15:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}),Qt="3.0.1",zt="4.0.0";e.a=Yt},function(t,e,n){var r=n(11),a=n(154),o=n(64),i=r(function(t,e){return a(o(t),e)});t.exports=i},function(t,e,n){var r=n(66),a=n(138);t.exports=function(t,e,n){return function(){if(0===arguments.length)return n();var o=Array.prototype.slice.call(arguments,0),i=o.pop();if(!r(i)){for(var c=0;c<t.length;){if("function"==typeof i[t[c]])return i[t[c]].apply(i,o);c+=1}if(a(i))return e.apply(null,o)(i)}return n.apply(this,arguments)}}},function(t,e){t.exports={init:function(){return this.xf["@@transducer/init"]()},result:function(t){return this.xf["@@transducer/result"](t)}}},function(t,e){t.exports=o},function(t,e,n){var r=n(16)(function(t){return null===t?"Null":void 0===t?"Undefined":Object.prototype.toString.call(t).slice(8,-1)});t.exports=r},function(t,e,n){var r=n(11),a=n(46),o=n(22),i=r(function(t,e){return a(function(n,r){return n[r]=t(e[r],r,e),n},{},o(e))});t.exports=i},function(t,e,n){"use strict";var r=n(15),a=n.n(r),o=n(9),i=a()({deepConf:{Ae:{methods:["spendTx","namePreclaimTx","nameClaimTx","nameTransferTx","nameUpdateTx","nameRevokeTx","contractCreateTx","contractCallTx","oracleRegisterTx","oracleExtendTx","oraclePostQueryTx","oracleRespondTx","getAccountNonce"]}}},Object(o.required)({methods:{spendTx:o.required,namePreclaimTx:o.required,nameClaimTx:o.required,nameTransferTx:o.required,nameUpdateTx:o.required,nameRevokeTx:o.required,contractCreateTx:o.required,contractCallTx:o.required,oracleRegisterTx:o.required,oracleExtendTx:o.required,oraclePostQueryTx:o.required,oracleRespondTx:o.required,getAccountNonce:o.required}}));e.a=i},function(t,e,n){"use strict";var r=n(59),a=n(9),o=r.a.compose({deepProps:{Chain:{defaults:{waitMined:!0}}},statics:{waitMined:function(t){return this.deepProps({Chain:{defaults:{waitMined:t}}})}},deepConf:{Ae:{methods:["sendTransaction","height","awaitHeight","poll","balance","tx","mempool","topBlock","getTxInfo","txDryRun","getName","getNodeInfo"]}}},Object(a.required)({methods:{sendTransaction:a.required,height:a.required,awaitHeight:a.required,topBlock:a.required,poll:a.required,balance:a.required,tx:a.required,getTxInfo:a.required,mempool:a.required,txDryRun:a.required}}));e.a=o},function(t,e,n){"use strict";(function(t){var r=n(5),a=n.n(r),o=n(26),i=n.n(o),c=n(0),s=n.n(c),u=n(4),f=n.n(u),p=n(1),l=n.n(p),h=n(7),d=n(12);function v(){return(v=l()(s.a.mark(function t(e,n){var r,a,o,i=arguments;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=i.length>2&&void 0!==i[2]?i[2]:{},a=f()(this.Ae.defaults,r),t.t0=this,t.t1=f.a,t.t2=a,t.t3=e,t.next=8,this.address();case 8:return t.t4=t.sent,t.t5=n,t.t6={nameId:t.t3,accountId:t.t4,recipientId:t.t5},t.t7=(0,t.t1)(t.t2,t.t6),t.next=14,t.t0.nameTransferTx.call(t.t0,t.t7);case 14:return o=t.sent,t.abrupt("return",this.send(o,a));case 16:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function m(){return(m=l()(s.a.mark(function t(e){var n,r,a,o=arguments;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:{},r=f()(this.Ae.defaults,n),t.t0=this,t.t1=f.a,t.t2=r,t.t3=e,t.next=8,this.address();case 8:return t.t4=t.sent,t.t5={nameId:t.t3,accountId:t.t4},t.t6=(0,t.t1)(t.t2,t.t5),t.next=13,t.t0.nameRevokeTx.call(t.t0,t.t6);case 13:return a=t.sent,t.abrupt("return",this.send(a,r));case 15:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function y(t){var e={ak:"account_pubkey",ok:"oracle_pubkey"};if(!t.match(/^[a-z]{2}_.+/))throw Error("Not a valid hash");var n=t.substr(0,2);if(n in e)return e[n];throw Error("Unknown class ".concat(n))}function g(){return(g=l()(s.a.mark(function t(e,n){var r,a,o,c=arguments;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=c.length>2&&void 0!==c[2]?c[2]:{},a=f()(this.Ae.defaults,r),t.t0=this,t.t1=f.a,t.t2=a,t.t3=e,t.next=8,this.address();case 8:return t.t4=t.sent,t.t5=[i()([["id",n],["key",y(n)]])],t.t6={nameId:t.t3,accountId:t.t4,pointers:t.t5},t.t7=(0,t.t1)(t.t2,t.t6),t.next=14,t.t0.nameUpdateTx.call(t.t0,t.t7);case 14:return o=t.sent,t.abrupt("return",this.send(o,a));case 16:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function b(){return(b=l()(s.a.mark(function t(e){var n,r,o=this;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getName(e);case 2:return n=t.sent,r=n.id,t.abrupt("return",Object.freeze(Object.assign(n,{pointers:n.pointers||{},update:function(){var t=l()(s.a.mark(function t(n,i){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=a.a,t.t1={},t.next=4,o.aensUpdate(r,n,i);case 4:return t.t2=t.sent,t.next=7,o.aensQuery(e);case 7:return t.t3=t.sent,t.abrupt("return",(0,t.t0)(t.t1,t.t2,t.t3));case 9:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}(),transfer:function(){var t=l()(s.a.mark(function t(n,i){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=a.a,t.t1={},t.next=4,o.aensTransfer(r,n,i);case 4:return t.t2=t.sent,t.next=7,o.aensQuery(e);case 7:return t.t3=t.sent,t.abrupt("return",(0,t.t0)(t.t1,t.t2,t.t3));case 9:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}(),revoke:function(){var t=l()(s.a.mark(function t(e){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",o.aensRevoke(r,e));case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()})));case 5:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function x(){return(x=l()(s.a.mark(function e(n,r,o){var i,c,u,p,l=arguments;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=l.length>3&&void 0!==l[3]?l[3]:{},c=f()(this.Ae.defaults,i),e.t0=this,e.t1=f.a,e.t2=c,e.next=7,this.address();case 7:return e.t3=e.sent,e.t4=r,e.t5="nm_".concat(Object(h.encodeBase58Check)(t.from(n))),e.t6={accountId:e.t3,nameSalt:e.t4,name:e.t5},e.t7=(0,e.t1)(e.t2,e.t6),e.next=14,e.t0.nameClaimTx.call(e.t0,e.t7);case 14:return u=e.sent,e.next=17,this.send(u,c);case 17:return p=e.sent,e.t8=a.a,e.t9={},e.t10=p,e.next=23,this.aensQuery(n);case 23:return e.t11=e.sent,e.abrupt("return",(0,e.t8)(e.t9,e.t10,e.t11));case 25:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function w(){return(w=l()(s.a.mark(function t(e){var n,r,o,i,c,u,p,l=this,v=arguments;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=v.length>1&&void 0!==v[1]?v[1]:{},r=f()(this.Ae.defaults,n),o=Object(h.salt)(),t.next=5,this.height();case 5:return i=t.sent,t.next=8,Object(d.commitmentHash)(e,o);case 8:return c=t.sent,t.t0=this,t.t1=f.a,t.t2=r,t.next=14,this.address();case 14:return t.t3=t.sent,t.t4=c,t.t5={accountId:t.t3,commitmentId:t.t4},t.t6=(0,t.t1)(t.t2,t.t5),t.next=20,t.t0.namePreclaimTx.call(t.t0,t.t6);case 20:return u=t.sent,t.next=23,this.send(u,r);case 23:return p=t.sent,t.abrupt("return",Object.freeze(a()({},p,{height:i,claim:function(t){return l.aensClaim(e,o,i+1,t)},salt:o,commitmentId:c})));case 25:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}var k=n(17).a.compose({methods:{aensQuery:function(t){return b.apply(this,arguments)},aensPreclaim:function(t){return w.apply(this,arguments)},aensClaim:function(t,e,n){return x.apply(this,arguments)},aensUpdate:function(t,e){return g.apply(this,arguments)},aensTransfer:function(t,e){return v.apply(this,arguments)},aensRevoke:function(t){return m.apply(this,arguments)}},deepProps:{Ae:{defaults:{clientTtl:1,nameTtl:5e4}}}});e.a=k}).call(this,n(21).Buffer)},function(t,e,n){"use strict";var r=n(15),a=n.n(r),o=n(9),i=a()({deepConf:{Contract:{methods:["contractEncodeCallDataAPI","contractDecodeDataAPI","compileContractAPI","contractDecodeCallDataBySourceAPI","contractDecodeCallDataByCodeAPI","contractGetACI","setCompilerUrl","getCompilerVersion"]}}},Object(o.required)({methods:{contractEncodeCallDataAPI:o.required,contractDecodeDataAPI:o.required,compileContractAPI:o.required,contractGetACI:o.required,setCompilerUrl:o.required,getCompilerVersion:o.required}}));e.a=i},function(t,e){t.exports=i},function(t,e,n){var r=n(85),a=n(140),o=n(141);function i(t,e,n){for(var r=n.next();!r.done;){if((e=t["@@transducer/step"](e,r.value))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}r=n.next()}return t["@@transducer/result"](e)}function c(t,e,n,r){return t["@@transducer/result"](n[r](o(t["@@transducer/step"],t),e))}var s="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";t.exports=function(t,e,n){if("function"==typeof t&&(t=a(t)),r(n))return function(t,e,n){for(var r=0,a=n.length;r<a;){if((e=t["@@transducer/step"](e,n[r]))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}r+=1}return t["@@transducer/result"](e)}(t,e,n);if("function"==typeof n["fantasy-land/reduce"])return c(t,e,n,"fantasy-land/reduce");if(null!=n[s])return i(t,e,n[s]());if("function"==typeof n.next)return i(t,e,n);if("function"==typeof n.reduce)return c(t,e,n,"reduce");throw new TypeError("reduce: list must be array or iterable")}},function(t,e,n){var r=n(16),a=n(11),o=n(52);t.exports=function(t){return function e(n,i,c){switch(arguments.length){case 0:return e;case 1:return o(n)?e:a(function(e,r){return t(n,e,r)});case 2:return o(n)&&o(i)?e:o(n)?a(function(e,n){return t(e,i,n)}):o(i)?a(function(e,r){return t(n,e,r)}):r(function(e){return t(n,i,e)});default:return o(n)&&o(i)&&o(c)?e:o(n)&&o(i)?a(function(e,n){return t(e,n,c)}):o(n)&&o(c)?a(function(e,n){return t(e,i,n)}):o(i)&&o(c)?a(function(e,r){return t(n,e,r)}):o(n)?r(function(e){return t(e,i,c)}):o(i)?r(function(e){return t(n,e,c)}):o(c)?r(function(e){return t(n,i,e)}):t(n,i,c)}}}},function(t,e,n){var r=n(136),a=n(11),o=n(137),i=a(function(t,e){return o(r(t),e)});t.exports=i},function(t,e,n){var r=n(16)(function(t){return null==t});t.exports=r},function(t,e,n){var r=n(16),a=n(22),o=r(function(t){for(var e=a(t),n=e.length,r=[],o=0;o<n;)r[o]=t[e[o]],o+=1;return r});t.exports=o},function(t,e,n){var r=n(11)(function(t,e){for(var n={},r=0;r<t.length;)t[r]in e&&(n[t[r]]=e[t[r]]),r+=1;return n});t.exports=r},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t&&!0===t["@@functional/placeholder"]}},function(t,e,n){var r=n(130);t.exports=function(t,e){return r(e,t,0)>=0}},function(t,e,n){var r=n(55),a=n(16),o=n(11),i=n(67),c=o(function(t,e){return 1===t?a(e):r(t,i(t,[],e))});t.exports=c},function(t,e){t.exports=function(t,e){switch(t){case 0:return function(){return e.apply(this,arguments)};case 1:return function(t){return e.apply(this,arguments)};case 2:return function(t,n){return e.apply(this,arguments)};case 3:return function(t,n,r){return e.apply(this,arguments)};case 4:return function(t,n,r,a){return e.apply(this,arguments)};case 5:return function(t,n,r,a,o){return e.apply(this,arguments)};case 6:return function(t,n,r,a,o,i){return e.apply(this,arguments)};case 7:return function(t,n,r,a,o,i,c){return e.apply(this,arguments)};case 8:return function(t,n,r,a,o,i,c,s){return e.apply(this,arguments)};case 9:return function(t,n,r,a,o,i,c,s,u){return e.apply(this,arguments)};case 10:return function(t,n,r,a,o,i,c,s,u,f){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}},function(t,e,n){"use strict";(function(t){var r=n(5),a=n.n(r),o=n(0),i=n.n(o),c=n(1),s=n.n(c),u=n(13),f=n.n(u),p=n(6),l=n.n(p),h=n(7),d=n(12),v=n(10),m=n(3),y=n(14),g=n(34),b={signature:function(e){var n=e.rlpEncoded,r=e.signature,a=e.ownerPublicKey,o=e.networkId,i=void 0===o?"ae_mainnet":o,c=t.concat([t.from(i),n]);return Object(h.verify)(c,r,Object(h.decodeBase58Check)(Object(h.assertedType)(a,"ak")))},insufficientFee:function(t){var e=t.minFee,n=t.fee;return Object(v.BigNumber)(e).lte(Object(v.BigNumber)(n))},expiredTTL:function(t){var e=t.ttl,n=t.height;return Object(v.BigNumber)(e).eq(0)||Object(v.BigNumber)(e).gte(Object(v.BigNumber)(n))},insufficientBalanceForAmountFee:function(t){var e=t.balance,n=t.amount,r=void 0===n?0:n,a=t.fee;return Object(v.BigNumber)(e).gt(Object(v.BigNumber)(r).plus(a))},insufficientBalanceForAmount:function(t){var e=t.balance,n=t.amount,r=void 0===n?0:n;return Object(v.BigNumber)(e).gt(Object(v.BigNumber)(r))},nonceUsed:function(t){var e=t.accountNonce,n=t.nonce;return Object(v.BigNumber)(n).gt(Object(v.BigNumber)(e))},nonceHigh:function(t){var e=t.accountNonce,n=t.nonce;return!Object(v.BigNumber)(n).gt(Object(v.BigNumber)(e).plus(1))},minGasPrice:function(t){var e=t.gasPrice;return isNaN(e)||Object(v.BigNumber)(e).gte(Object(v.BigNumber)(m.f))},vmAndAbiVersion:function(t){var e=t.ctVersion,n=t.abiVersion,r=t.consensusProtocolVersion,a=t.txType;e||(e={abiVersion:n});var o=m.j[r];if(!o)return!0;var i=o[a];return!Object.entries(e).reduce(function(t,e){var n=l()(e,2),r=n[0],a=n[1];return[].concat(f()(t),[void 0===a||i[r].includes(parseInt(a))])},[]).includes(!1)}},x=function(){var t=s()(i.a.mark(function t(e,n){var r,a,o,c,s,u;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.ownerPublicKey,a=0,o=0,t.prev=3,t.next=6,e.api.getAccountByPubkey(r);case 6:c=t.sent,s=c.nonce,u=c.balance,a=s,o=u,t.next=16;break;case 13:t.prev=13,t.t0=t.catch(3),console.log("We can not get info about this publicKey");case 16:return t.next=18,e.api.getCurrentKeyBlockHeight();case 18:return t.t1=t.sent.height,t.t2=o,t.t3=a,t.t4=r,t.t5=e.consensusProtocolVersion,t.abrupt("return",{height:t.t1,balance:t.t2,accountNonce:t.t3,ownerPublicKey:t.t4,consensusProtocolVersion:t.t5});case 24:case"end":return t.stop()}},t,null,[[3,13]])}));return function(e,n){return t.apply(this,arguments)}}(),w=function(t,e){return t.reduce(function(t,n){var r=l()(n,3),a=r[0],o=r[1],i=r[2],c=(i.key,i.type),s=i.txKey;return b[o](e)||t.push({msg:a(e),txKey:s,type:c}),t},[])};function k(){return(k=s()(i.a.mark(function t(e){var n,r,a,o,c,s,u,f,p,l,h,v=arguments;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=v.length>1&&void 0!==v[1]?v[1]:{},r=n.networkId,a=Object(y.unpackTx)(e),o=a.tx,c=a.rlpEncoded,s=a.txType,+o.tag!==m.h){t.next=13;break}return u=o.encodedTx,f=u.txType,p=u.tx,l=o.signatures.map(function(t){return{raw:t,hash:Object(d.encode)(t,"sg")}}),h=o.encodedTx.rlpEncoded,t.next=8,this.verifyTx({tx:p,signatures:l,rlpEncoded:h},r);case 8:return t.t0=t.sent,t.t1=p,t.t2=l,t.t3=f,t.abrupt("return",{validation:t.t0,tx:t.t1,signatures:t.t2,txType:t.t3});case 13:return t.next=15,this.verifyTx({tx:o,rlpEncoded:c},r);case 15:return t.t4=t.sent,t.t5=o,t.t6=s,t.abrupt("return",{validation:t.t4,tx:t.t5,txType:t.t6});case 19:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}var T=function(t){return t[["senderId","accountId","ownerId","callerId","oracleId","fromId"].find(function(e){return t[e]})].replace("ok_","ak_")};function O(){return(O=s()(i.a.mark(function t(e,n){var r,o,c,s,u,p,l,h,d;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.tx,o=e.signatures,c=e.rlpEncoded,n=n||this.nodeNetworkId||"ae_mainnet",s=T(r),u=r.hasOwnProperty("gas")?+r.gas:0,p=m.g[+r.tag],t.t0=a.a,t.t1={minFee:Object(y.calculateFee)(0,p,{gas:u,params:r,showWarning:!1})},t.next=9,x(this,{ownerPublicKey:s});case 9:return t.t2=t.sent,t.t3=r,t.t4={txType:p},l=(0,t.t0)(t.t1,t.t2,t.t3,t.t4),h=o&&o.length?w(m.k,{rlpEncoded:c,signature:o[0].raw,ownerPublicKey:s,networkId:n}):[],d=w(m.a,l),t.abrupt("return",[].concat(f()(d),f()(h),f()(C(p,l))));case 16:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function C(t,e){switch(t){case m.p.contractCreate:case m.p.contractCall:case m.p.oracleRegister:return w(m.b,e);default:return[]}}var I=g.a.compose({methods:{verifyTx:function(t,e){return O.apply(this,arguments)},unpackAndVerify:function(t){return k.apply(this,arguments)}}});e.a=I}).call(this,n(21).Buffer)},function(t,e,n){"use strict";(function(t,r){var a=n(0),o=n.n(a),i=n(1),c=n.n(i),s=n(25),u=n(7),f=new WeakMap;function p(){return(p=c()(o.a.mark(function t(e){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.resolve(u.sign(e,f.get(this).secretKey)));case 1:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function l(){return(l=c()(o.a.mark(function t(){var e,n=arguments;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:u.ADDRESS_FORMAT.api,t.abrupt("return",Promise.resolve(u.formatAddress(e,f.get(this).publicKey)));case 2:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}var h=s.a.compose({init:function(t){var e=t.keypair;try{this.setKeypair(e||u.envKeypair(r.env))}catch(t){console.log("Please provide KEY_PAIR for sign transaction")}},methods:{sign:function(t){return p.apply(this,arguments)},address:function(){return l.apply(this,arguments)},setKeypair:function(e){e.hasOwnProperty("priv")&&e.hasOwnProperty("pub")&&(e={secretKey:e.priv,publicKey:e.pub},console.warn("pub/priv naming for accounts has been deprecated, please use secretKey/publicKey")),f.set(this,{secretKey:t.from(e.secretKey,"hex"),publicKey:e.publicKey})}}});e.a=h}).call(this,n(21).Buffer,n(159))},function(t,e,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),c=n(4),s=n.n(c),u=n(29),f=n.n(u),p=n(61),l=n.n(p),h=n(15),d=n.n(h);function v(){return(v=i()(a.a.mark(function t(e,n){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",b(f.a.get("".concat(this.baseUrl).concat(e),s()(this.httpConfig,n))));case 1:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function m(){return(m=i()(a.a.mark(function t(e,n,r){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",b(f.a.post("".concat(this.baseUrl).concat(e),n,s()(this.httpConfig,r))));case 1:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function y(){return(y=i()(a.a.mark(function t(e,n,r){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",b(f.a.put("".concat(this.baseUrl).concat(e),n,s()(this.httpConfig,r))));case 1:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function g(){return(g=i()(a.a.mark(function t(e,n){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",b(f.a.delete("".concat(this.baseUrl).concat(e),s()(this.httpConfig,n))));case 1:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}var b=function(){var t=i()(a.a.mark(function t(e){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e;case 3:return t.abrupt("return",t.sent.data);case 6:if(t.prev=6,t.t0=t.catch(0),t.t0.response){t.next=10;break}throw t.t0;case 10:throw Object.assign(Error("Http request for ".concat(t.t0.config.url," failed with status code ").concat(t.t0.response.status,". Status: ").concat(t.t0.response.statusText,". \nError data: ").concat(JSON.stringify(t.t0.response.data))),{data:t.t0.response.data});case 11:case"end":return t.stop()}},t,null,[[0,6]])}));return function(e){return t.apply(this,arguments)}}(),x=d()({init:function(t){var e=t.baseUrl;this.baseUrl=e},methods:{changeBaseUrl:function(t){this.baseUrl=t},get:function(t,e){return v.apply(this,arguments)},post:function(t,e,n){return m.apply(this,arguments)},put:function(t,e,n){return y.apply(this,arguments)},delete:function(t,e){return g.apply(this,arguments)}},props:{httpConfig:{headers:{"Content-Type":"application/json"},transformResponse:[function(t){try{return l()({storeAsString:!0}).parse(t)}catch(e){return t}}]}}}),w=n(44),k=n(62);function T(){return(T=i()(a.a.mark(function t(){var e,n=arguments;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:{},t.abrupt("return",this.http.get("/version",e).then(function(t){return t.version}));case 2:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function O(){return(O=i()(a.a.mark(function t(e,n){var r,o,i=arguments;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=i.length>2&&void 0!==i[2]?i[2]:[],o=i.length>3&&void 0!==i[3]?i[3]:{},t.abrupt("return",this.http.post("/encode-calldata",{source:e,function:n,arguments:r},o).then(function(t){return t.calldata}));case 3:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function C(){return(C=i()(a.a.mark(function t(e,n){var r,o=arguments;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:{},t.abrupt("return",this.http.post("/decode-calldata/bytecode",{bytecode:e,calldata:n},r));case 2:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function I(){return(I=i()(a.a.mark(function t(e,n,r){var o,i=arguments;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=i.length>3&&void 0!==i[3]?i[3]:{},t.abrupt("return",this.http.post("/decode-calldata/source",{function:n,source:e,calldata:r},o));case 2:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function A(){return(A=i()(a.a.mark(function t(e,n,r,o){var i,c=arguments;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=c.length>4&&void 0!==c[4]?c[4]:{},t.abrupt("return",this.http.post("/decode-call-result",{function:n,source:e,"call-result":o,"call-value":r},i));case 2:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function j(){return(j=i()(a.a.mark(function t(e,n){var r,o=arguments;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:{},t.abrupt("return",this.http.post("/decode-data",{data:n,"sophia-type":e},r).then(function(t){return t.data}));case 2:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function E(){return(E=i()(a.a.mark(function t(e){var n,r=arguments;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},t.abrupt("return",this.http.post("/compile",{code:e,options:n},n).then(function(t){return t.bytecode}));case 2:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function P(){return(P=i()(a.a.mark(function t(e){var n,r=arguments;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},t.abrupt("return",this.http.post("/aci",{code:e,options:n},n));case 2:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}var _=w.a.compose({init:function(){var t=i()(a.a.mark(function t(e){var n,r;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.compilerUrl,r=void 0===n?this.compilerUrl:n,this.http=x({baseUrl:r}),t.next=4,this.getCompilerVersion();case 4:if(this.compilerVersion=t.sent,Object(k.a)(this.compilerVersion.split("-")[0],S,B)){t.next=7;break}throw new Error("Unsupported compiler version ".concat(this.compilerVersion,". ")+"Supported: >= ".concat(S," < ").concat(B));case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),methods:{contractEncodeCallDataAPI:function(t,e){return O.apply(this,arguments)},contractDecodeDataAPI:function(t,e){return j.apply(this,arguments)},compileContractAPI:function(t){return E.apply(this,arguments)},contractGetACI:function(t){return P.apply(this,arguments)},contractDecodeCallDataByCodeAPI:function(t,e){return C.apply(this,arguments)},contractDecodeCallDataBySourceAPI:function(t,e,n){return I.apply(this,arguments)},contractDecodeCallResultAPI:function(t,e,n,r){return A.apply(this,arguments)},setCompilerUrl:function(t){this.http.changeBaseUrl(t)},getCompilerVersion:function(){return T.apply(this,arguments)}},props:{compilerVersion:null}}),S="3.1.0",B="4.0.0";e.a=_},function(t,e,n){"use strict";var r=n(15),a=n.n(r),o=n(9),i=a()({deepConf:{Contract:{methods:["getOracle","getOracleQueries","getOracleQuery"]}}},Object(o.required)({methods:{getOracle:o.required,getOracleQueries:o.required,getOracleQuery:o.required}}));e.a=i},function(t,e,n){var r=n(16)(n(129)(!0));t.exports=r},function(t,e){t.exports=c},function(t,e,n){"use strict";var r=n(13),a=n.n(r);e.a=function(t,e,n){var r=t.split("."),o=e.split("."),i=n.split("."),c=Math.max.apply(Math,a()(r).concat(a()(o),a()(i)))+1,s=function(t){return t.reverse().reduce(function(t,e,n){return t+e*Math.pow(c,n)},0)},u=s(r),f=s(o),p=s(i);return u>=f&&u<p}},function(t,e,n){var r=n(89)(-1);t.exports=r},function(t,e,n){var r=n(11),a=n(30),o=r(function(t,e){return a([t],e)});t.exports=o},function(t,e){t.exports=s},function(t,e){t.exports=Array.isArray||function(t){return null!=t&&t.length>=0&&"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,n){var r=n(55),a=n(52);t.exports=function t(e,n,o){return function(){for(var i=[],c=0,s=e,u=0;u<n.length||c<arguments.length;){var f;u<n.length&&(!a(n[u])||c>=arguments.length)?f=n[u]:(f=arguments[c],c+=1),i[u]=f,a(f)||(s-=1),u+=1}return s<=0?o.apply(this,i):r(s,t(e,i,o))}}},function(t,e,n){var r=n(11),a=n(158),o=n(54),i=n(31),c=r(function(t,e){return o(t+1,function(){var n=arguments[t];if(null!=n&&a(n[e]))return n[e].apply(n,Array.prototype.slice.call(arguments,0,t));throw new TypeError(i(n)+' does not have a method named "'+e+'"')})});t.exports=c},function(t,e,n){var r=n(11)(function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e});t.exports=r},function(t,e,n){var r=n(16),a=n(54),o=r(function(t){return a(t.length,function(e,n){var r=Array.prototype.slice.call(arguments,0);return r[0]=n,r[1]=e,t.apply(this,r)})});t.exports=o},function(t,e,n){var r=n(16),a=n(54),o=r(function(t){return a(t.length,t)});t.exports=o},function(t,e){t.exports=u},function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return u}),n.d(e,"b",function(){return f});var r=n(6),a=n.n(r),o=n(2),i=n.n(o),c=n(5),s=n.n(c);n(7);function u(t){return{rootHash:t[0].toString("hex"),nodes:t[1].reduce(function(t,e){return s()({},t,i()({},e[0].toString("hex"),e[1]))},{})}}function f(e){return[t.from(e.rootHash,"hex"),Object.entries(e.nodes).map(function(e){var n=a()(e,2),r=n[0],o=n[1];return[t.from(r,"hex"),o]})]}}).call(this,n(21).Buffer)},function(t,e,n){var r=n(94)(function(t,e){return e},null);t.exports=r},function(t,e,n){var r=n(16)(n(153));t.exports=r},function(t,e,n){var r=n(93),a=n(11)(r("groupBy",n(94)(function(t,e){return null==t&&(t=[]),t.push(e),t},null)));t.exports=a},function(t,e,n){var r=n(11),a=n(156),o=r(function(t,e){return a(function(t,e,n){return n},t,e)});t.exports=o},function(t,e,n){var r=n(16),a=n(24),o=r(function(t){var e=[];for(var n in t)a(n,t)&&(e[e.length]=[n,t[n]]);return e});t.exports=o},function(t,e,n){var r=n(68)(0,"toUpperCase");t.exports=r},function(t,e){t.exports=f},function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(t,e){t.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},function(t,e,n){var r=n(128);t.exports="function"==typeof Object.assign?Object.assign:r},function(t,e,n){var r=n(16),a=n(66),o=n(86),i=r(function(t){return!!a(t)||!!t&&("object"==typeof t&&(!o(t)&&(1===t.nodeType?!!t.length:0===t.length||t.length>0&&(t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1)))))});t.exports=i},function(t,e){t.exports=function(t){return"[object String]"===Object.prototype.toString.call(t)}},function(t,e){t.exports=function(t,e,n){for(var r=0,a=n.length;r<a;){if(t(e,n[r]))return!0;r+=1}return!1}},function(t,e){t.exports=function(t){return"[object Object]"===Object.prototype.toString.call(t)}},function(t,e,n){var r=n(11),a=n(86),o=r(function(t,e){var n=t<0?e.length+t:t;return a(e)?e.charAt(n):e[n]});t.exports=o},function(t,e){t.exports=function(t,e){for(var n=0,r=e.length,a=Array(r);n<r;)a[n]=t(e[n]),n+=1;return a}},function(t,e){t.exports=function(t){return t&&t["@@transducer/reduced"]?t:{"@@transducer/value":t,"@@transducer/reduced":!0}}},function(t,e,n){var r=n(93),a=n(47)(r("slice",function(t,e,n){return Array.prototype.slice.call(n,t,e)}));t.exports=a},function(t,e,n){var r=n(66);t.exports=function(t,e){return function(){var n=arguments.length;if(0===n)return e();var a=arguments[n-1];return r(a)||"function"!=typeof a[t]?e.apply(this,arguments):a[t].apply(a,Array.prototype.slice.call(arguments,0,n-1))}}},function(t,e,n){var r=n(67),a=n(36),o=n(24),i=n(46),c=r(4,[],a([],n(150),function(t,e,n,r){return i(function(r,a){var i=n(a);return r[i]=t(o(i,r)?r[i]:e,a),r},{},r)}));t.exports=c},function(t,e,n){"use strict";(function(t){var r=n(38),a=n.n(r),o=n(80),i=n(116),c=n(65),s=n(7),u=t.from("ed25519 seed"),f=2147483648,p=function(e){return t.from(e).toString("hex")};function l(t,e){var n=""===t?[]:Object(i.fromString)(t).toPathArray();return n.forEach(function(t,e){if(t<f)throw new Error("Segment #".concat(e+1," is not hardened"))}),n.reduce(function(t,e){return d(t,e)},e)}function h(t){var e=Object(o.full)(t,u);return{secretKey:e.slice(0,32),chainCode:e.slice(32)}}function d(e,n){var r=e.secretKey,a=e.chainCode;if(n<f)throw new Error("Child index #".concat(n," is not supported"));var i=t.allocUnsafe(4);i.writeUInt32BE(n,0);var c=t.concat([t.alloc(1,0),r,i]),s=Object(o.full)(c,a);return{secretKey:s.slice(0,32),chainCode:s.slice(32)}}e.a={getSaveHDWalletAccounts:function(e,n,r){var o={secretKey:Object(s.decryptKey)(n,t.from(e.secretKey,"hex")),chainCode:Object(s.decryptKey)(n,t.from(e.chainCode,"hex"))};return new Array(r).fill().map(function(t,e){return function(t){var e=t.secretKey,n=t.publicKey;return{secretKey:p(e),publicKey:"ak_".concat(Object(s.encodeBase58Check)(n))}}((n=l("".concat(e,"h/0h/0h"),o).secretKey,a.a.sign.keyPair.fromSeed(n)));var n})},generateSaveHDWallet:function(t,e){if(!Object(c.validateMnemonic)(t))throw new Error("Invalid mnemonic");var n=function(t,e){if(!["m","m/"].includes(t.slice(0,2)))throw new Error("Invalid path");var n=h(e);return l(t.slice(2),n)}("m/44h/457h",Object(c.mnemonicToSeed)(t));return{secretKey:p(Object(s.encryptKey)(e,n.secretKey)),chainCode:p(Object(s.encryptKey)(e,n.chainCode))}},generateMnemonic:function(){return Object(c.generateMnemonic)()},deriveChild:d,getMasterKeyFromSeed:h}}).call(this,n(21).Buffer)},function(t,e){t.exports=p},function(t,e){t.exports=l},function(t,e){t.exports=h},function(t,e,n){"use strict";(function(t){var r=n(0),a=n.n(r),o=n(4),i=n.n(o),c=n(19),s=n.n(c),u=n(13),f=n.n(u),p=n(1),l=n.n(p),h=n(6),d=n.n(h),v=n(2),m=n.n(v),y=n(5),g=n.n(y),b=n(20),x=n.n(b),w=n(27),k=["int","string","tuple","address","bool","list","map","record","option","oracle","oracleQuery","hash","signature","bytes"].reduce(function(t,e){return g()({},t,m()({},e,e))},{});function T(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.skipTransformDecoded,a=void 0!==r&&r,o=(n.addressPrefix,n.bindings);if(a)return e;var i=E(t,{bindings:o}),c=i.t,s=i.generic;switch(c){case k.bool:return!!e;case k.address:return 0===e?0:e;case k.hash:case k.bytes:case k.signature:return e.split("#")[1];case k.map:var u=d()(s,2),f=u[0],p=u[1];return e.reduce(function(t,e){var n=d()(e,2),r=n[0],a=n[1];return r=T(f,r,{bindings:o}),a=T(p,a,{bindings:o}),t.push([r,a]),t},[]);case k.option:if("None"===e)return;var l=Object.entries(e),h=d()(l,1),v=d()(h[0],2),y=v[0],b=d()(v[1],1)[0];return"Some"===y?T(s,b,{bindings:o}):void 0;case k.list:return e.map(function(t){return T(s,t,{bindings:o})});case k.tuple:return e.map(function(t,e){return T(s[e],t,{bindings:o})});case k.record:var x=s.reduce(function(t,e){return g()({},t,m()({},e.name,{type:e.type}))},{});return Object.entries(e).reduce(function(t,e){var n=d()(e,2),r=n[0],a=n[1];return g()({},t,m()({},r,T(x[r].type,a,{bindings:o})))},{})}return e}function O(t,e){return C.apply(this,arguments)}function C(){return(C=l()(a.a.mark(function e(n,r){var o,i,c,s,u,f,p,h=arguments;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=h.length>2&&void 0!==h[2]?h[2]:{},i=o.compilerVersion,c=o.bindings,s=E(n,{bindings:c}),u=s.t,f=s.generic,"string"==typeof r&&"ct"===r.slice(0,2)&&(u=k.address),e.t0=u,e.next=e.t0===k.string?6:e.t0===k.list?7:e.t0===k.tuple?12:e.t0===k.option?17:e.t0===k.hash?30:e.t0===k.bytes?30:e.t0===k.signature?30:e.t0===k.record?31:e.t0===k.map?36:37;break;case 6:return e.abrupt("return",'"'.concat(r,'"'));case 7:return e.t1="[",e.next=10,Promise.all(r.map(function(){var t=l()(a.a.mark(function t(e){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",O(f,e,{compilerVersion:i,bindings:c}));case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()));case 10:return e.t2=e.sent,e.abrupt("return",e.t1.concat.call(e.t1,e.t2,"]"));case 12:return e.t3="(",e.next=15,Promise.all(r.map(function(){var t=l()(a.a.mark(function t(e,n){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",O(f[n],e,{compilerVersion:i,bindings:c}));case 1:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()));case 15:return e.t4=e.sent,e.abrupt("return",e.t3.concat.call(e.t3,e.t4,")"));case 17:return e.next=19,r.catch(function(t){});case 19:if(void 0!==(p=e.sent)){e.next=24;break}e.t5="None",e.next=29;break;case 24:return e.t6="Some(",e.next=27,O(f,p,{compilerVersion:i,bindings:c});case 27:e.t7=e.sent,e.t5=e.t6.concat.call(e.t6,e.t7,")");case 29:return e.abrupt("return",e.t5);case 30:return e.abrupt("return","#".concat("string"==typeof r?r:t.from(r).toString("hex")));case 31:return e.t8="{",e.next=34,f.reduce(function(){var t=l()(a.a.mark(function t(e,n,o){var s,u;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=n.name,u=n.type,t.next=3,e;case 3:return e=t.sent,t.t0=e,t.t1="".concat(0!==o?",":"").concat(s," = "),t.next=8,O(u,r[s],{compilerVersion:i,bindings:c});case 8:return t.t2=t.sent,e=t.t0+=t.t1.concat.call(t.t1,t.t2),t.abrupt("return",e);case 11:case"end":return t.stop()}},t)}));return function(e,n,r){return t.apply(this,arguments)}}(),"");case 34:return e.t9=e.sent,e.abrupt("return",e.t8.concat.call(e.t8,e.t9,"}"));case 36:return e.abrupt("return",I(r,f,{compilerVersion:i,bindings:c}));case 37:return e.abrupt("return","".concat(r));case 38:case"end":return e.stop()}},e)}))).apply(this,arguments)}function I(t,e,n){return A.apply(this,arguments)}function A(){return(A=l()(a.a.mark(function t(e,n,r){var o,i;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=r.compilerVersion,i=r.bindings,e instanceof Map&&(e=Array.from(e.entries())),!Array.isArray(e)&&e instanceof Object&&(e=Object.entries(e)),t.t0="{",t.next=6,e.reduce(function(){var t=l()(a.a.mark(function t(e,r,c){var s,u,f;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=d()(r,2),u=s[0],f=s[1],t.next=3,e;case 3:return e=t.sent,0!==c&&(e+=","),t.t0=e,t.t2="[",t.next=9,O(n[0],u,{compilerVersion:o,bindings:i});case 9:return t.t3=t.sent,t.t1=t.t2.concat.call(t.t2,t.t3,"] = "),t.next=13,O(n[1],f,{compilerVersion:o,bindings:i});case 13:return t.t4=t.sent,e=t.t0+=t.t1.concat.call(t.t1,t.t4),t.abrupt("return",e);case 16:case"end":return t.stop()}},t)}));return function(e,n,r){return t.apply(this,arguments)}}(),"");case 6:return t.t1=t.sent,t.abrupt("return",t.t0.concat.call(t.t0,t.t1,"}"));case 8:case"end":return t.stop()}},t)}))).apply(this,arguments)}function j(t,e){var n=t.split("."),r=d()(n,2),a=(r[0],r[1]);return[].concat(f()(e.typedef),[{name:"state",typedef:e.state}]).find(function(t){return t.name===a}).typedef}function E(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).bindings,n=Array.isArray(t)?t:[t],r=d()(n,1)[0];if("string"==typeof r&&-1!==r.indexOf(e.contractName)&&(r=j(r,e)),"object"===s()(r)){var a=Object.entries(r),o=d()(a,1),i=d()(o[0],2);return{t:i[0],generic:i[1]}}if("string"==typeof r)return{t:r}}var P=x.a.extend(function(e){return{name:"binary",base:e.any(),pre:function(e,n,r){if(r.convert&&"string"==typeof e)try{return t.from(e,"hex")}catch(t){return}return t.from(e)},rules:[{name:"bufferCheck",params:{size:e.number().required()},validate:function(e,n,r,a){return n="string"===n?t.from(n,"hex"):t.from(n),t.isBuffer(n)?n.length!==e.size?this.createError("binary.bufferCheck",{value:n,size:e.size},r,a):n:this.createError("binary.base",{value:n},r,a)}}]}});function _(e){return e.map(function(e){var n=e.path,r=e.type,a=e.context,o=a.hasOwnProperty("value")?a.value:a.label;switch(o="object"===s()(o)?JSON.stringify(o).slice(1).slice(0,-1):o,r){case"string.base":return g()({},e,{message:'Value "'.concat(o,'" at path: [').concat(n,"] not a string")});case"number.base":return g()({},e,{message:'Value "'.concat(o,'" at path: [').concat(n,"] not a number")});case"boolean.base":return g()({},e,{message:'Value "'.concat(o,'" at path: [').concat(n,"] not a boolean")});case"array.base":return g()({},e,{message:'Value "'.concat(o,'" at path: [').concat(n,"] not a array")});case"object.base":return g()({},e,{message:"Value '".concat(o,"' at path: [").concat(n,"] not a object")});case"object.type":return g()({},e,{message:"Value '".concat(o,"' at path: [").concat(n,"] not a ").concat(a.type)});case"binary.bufferCheck":return g()({},e,{message:"Value '".concat(t.from(o).toString("hex"),"' at path: [").concat(n,"] not a ").concat(a.size," bytes")});default:return e}})}function S(t,e){var n=x.a.array().ordered(t.arguments.map(function(n,r){return function t(e){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).bindings,r=E(e,{bindings:n}),a=r.t,o=r.generic;switch(Object.keys(k).includes(a)||(a=k.address),a){case k.int:return x.a.number().error(_);case k.string:return x.a.string().error(_);case k.address:return x.a.string().regex(/^(ak_|ct_|ok_|oq_)/).error(_);case k.bool:return x.a.boolean().error(_);case k.list:return x.a.array().items(t(o,{bindings:n})).error(_);case k.tuple:return x.a.array().ordered(o.map(function(e){return t(e,{bindings:n}).required()})).label("Tuple argument").error(_);case k.record:return x.a.object(o.reduce(function(e,r){var a=r.name,o=r.type;return g()({},e,m()({},a,t(o,{bindings:n})))},{})).error(_);case k.hash:return P.binary().bufferCheck(32).error(_);case k.bytes:return P.binary().bufferCheck(o).error(_);case k.signature:return P.binary().bufferCheck(64).error(_);case k.option:return x.a.object().type(Promise).error(_);default:return x.a.any()}}(n.type,{bindings:t.bindings}).label("[".concat(e[r],"]"))})).label("Argument"),r=x.a.validate(e,n,{abortEarly:!1}).error;if(r)throw r}function B(t,e){return R.apply(this,arguments)}function R(){return(R=l()(a.a.mark(function t(e,n){var r,o,i,c=arguments;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=c.length>2&&void 0!==c[2]?c[2]:{},o=r.compilerVersion,e){t.next=3;break}return t.abrupt("return",n);case 3:return S(e,n),i=e.bindings,t.abrupt("return",Promise.all(e.arguments.map(function(){var t=l()(a.a.mark(function t(e,r){var c;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.type,t.abrupt("return",O(c,n[r],{compilerVersion:o,bindings:i}));case 2:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}())));case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function N(t,e){var n=t.functions.find(function(t){return t.name===e});if(!n&&"init"!==e)throw new Error("Function ".concat(e," doesn't exist in contract"));return g()({},n,{bindings:{state:t.state,typedef:t.type_defs,contractName:t.name}})}function V(){return(V=l()(a.a.mark(function t(e){var n,r,o,c,s,u,f=arguments;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=f.length>1&&void 0!==f[1]?f[1]:{},r=n.aci,o=n.contractAddress,c=n.opt,t.t0=r,t.t0){t.next=6;break}return t.next=5,this.contractGetACI(e);case 5:t.t0=t.sent;case 6:return r=t.t0,s={skipArgsConvert:!1,skipTransformDecoded:!1,callStatic:!1,deposit:0,gasPrice:1e9,amount:0,gas:1579e3,top:null,waitMined:!0,verify:!1},(u={interface:r.interface,aci:r.encoded_aci.contract,source:e,compiled:null,deployInfo:{address:o},options:i()(s,c),compilerVersion:this.compilerVersion,setOptions:function(t){this.options=i()(this.options,t)}}).compile=q(this).bind(u),u.deploy=L(this).bind(u),u.call=U(this).bind(u),u.methods=u.aci.functions.reduce(function(t,e){var n=e.name;return g()({},t,m()({},n,function(){return"init"!==n?u.call(n,Object.values(arguments)):u.deploy(Object.values(arguments))}))},{}),t.abrupt("return",u);case 14:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function U(t){return function(){var e=l()(a.a.mark(function e(n){var r,o,c,s,u,f,p=arguments;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=p.length>1&&void 0!==p[1]?p[1]:[],o=p.length>2&&void 0!==p[2]?p[2]:{},c=i()(this.options,o),s=N(this.aci,n),u=c.source||this.source,n){e.next=7;break}throw new Error("Function name is required");case 7:if(this.deployInfo.address){e.next=9;break}throw new Error("You need to deploy contract before calling!");case 9:if(c.skipArgsConvert){e.next=15;break}return e.next=12,B(s,r,{compilerVersion:this.compilerVersion});case 12:e.t0=e.sent,e.next=16;break;case 15:e.t0=r;case 16:if(r=e.t0,!c.callStatic){e.next=23;break}return e.next=20,t.contractCallStatic(u,this.deployInfo.address,n,r,{top:c.top,opt:c});case 20:e.t1=e.sent,e.next=26;break;case 23:return e.next=25,t.contractCall(u,this.deployInfo.address,n,r,c);case 25:e.t1=e.sent;case 26:return f=e.t1,e.t2=g.a,e.t3={},e.t4=f,e.t5=T,e.t6=s.returns,e.next=34,f.decode();case 34:return e.t7=e.sent,e.t8=g()({},c,{compilerVersion:this.compilerVersion,bindings:s.bindings}),e.next=38,(0,e.t5)(e.t6,e.t7,e.t8);case 38:return e.t9=e.sent,e.t10={decodedResult:e.t9},e.abrupt("return",(0,e.t2)(e.t3,e.t4,e.t10));case 41:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}function L(t){return l()(a.a.mark(function e(){var n,r,o,c,s,u,f,p,l,h,d,v=arguments;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=v.length>0&&void 0!==v[0]?v[0]:[],r=v.length>1&&void 0!==v[1]?v[1]:{},o=i()(this.options,r),c=N(this.aci,"init"),this.compiled){e.next=7;break}return e.next=7,this.compile();case 7:if(o.skipArgsConvert){e.next=13;break}return e.next=10,B(c,n,{compilerVersion:this.compilerVersion});case 10:e.t0=e.sent,e.next=14;break;case 13:e.t0=n;case 14:return n=e.t0,e.next=17,t.contractDeploy(this.compiled,o.source||this.source,n,o);case 17:return s=e.sent,u=s.owner,f=s.transaction,p=s.address,l=s.createdAt,h=s.result,d=s.rawTx,this.deployInfo={owner:u,transaction:f,address:p,createdAt:l,result:h,rawTx:d},e.abrupt("return",this);case 26:case"end":return e.stop()}},e,this)}))}function q(t){return l()(a.a.mark(function e(){var n,r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.contractCompile(this.source);case 2:return n=e.sent,r=n.bytecode,this.compiled=r,e.abrupt("return",this);case 6:case"end":return e.stop()}},e,this)}))}var M=w.a.compose({methods:{getContractInstance:function(t){return V.apply(this,arguments)}}});e.a=M}).call(this,n(21).Buffer)},function(t,e,n){var r=n(87),a=n(11)(function(t,e){for(var n,a=0,o=e.length,i=[];a<o;)n=e[a],r(t,n,i)||(i[i.length]=n),a+=1;return i});t.exports=a},function(t,e,n){var r=n(53),a=n(11),o=n(70),i=n(48),c=a(function(t,e){return i(o(r)(t),e)});t.exports=c},function(t,e,n){var r=n(11)(function(t,e){for(var n=0,r=Math.min(t.length,e.length),a={};n<r;)a[t[n]]=e[n],n+=1;return a});t.exports=r},function(t,e,n){var r=n(11),a=n(36),o=n(146),i=r(a([],n(149),o));t.exports=i},function(t,e,n){var r=n(11),a=n(36),o=n(151),i=n(92),c=r(a(["drop"],o,function(t,e){return i(Math.max(0,t),1/0,e)}));t.exports=c},function(t,e,n){var r=n(152),a=n(31),o=r(function(){return a(arguments)});t.exports=o},function(t,e,n){var r=n(11)(n(24));t.exports=r},function(t,e,n){var r=n(47)(function(t,e,n){var r={};for(var a in n)r[a]=n[a];return r[t]=e,r});t.exports=r},function(t,e,n){var r=n(84),a=n(16)(function(t){return r.apply(null,[{}].concat(t))});t.exports=a},function(t,e,n){var r=n(53),a=n(11)(function(t,e){for(var n=[],a=0,o=t.length;a<o;)r(t[a],e)||r(t[a],n)||(n[n.length]=t[a]),a+=1;return n});t.exports=a},function(t,e,n){var r=n(68)(0,"toLowerCase");t.exports=r},function(t,e,n){var r=n(47)(n(46));t.exports=r},function(t,e,n){var r=n(11)(function(t,e){var n={};for(var r in e)t(e[r],r,e)&&(n[r]=e[r]);return n});t.exports=r},function(t,e,n){var r=n(81),a=n(83),o=n(82);t.exports=function(t){return r(t)||a(t)||o()}},function(t,e){t.exports=d},function(t,e,n){"use strict";var r,a="object"==typeof Reflect?Reflect:null,o=a&&"function"==typeof a.apply?a.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};r=a&&"function"==typeof a.ownKeys?a.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var i=Number.isNaN||function(t){return t!=t};function c(){c.init.call(this)}t.exports=c,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._eventsCount=0,c.prototype._maxListeners=void 0;var s=10;function u(t){return void 0===t._maxListeners?c.defaultMaxListeners:t._maxListeners}function f(t,e,n,r){var a,o,i,c;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),i=o[e]),void 0===i)i=o[e]=n,++t._eventsCount;else if("function"==typeof i?i=o[e]=r?[n,i]:[i,n]:r?i.unshift(n):i.push(n),(a=u(t))>0&&i.length>a&&!i.warned){i.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+i.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=t,s.type=e,s.count=i.length,c=s,console&&console.warn&&console.warn(c)}return t}function p(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},a=function(){for(var t=[],e=0;e<arguments.length;e++)t.push(arguments[e]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,o(this.listener,this.target,t))}.bind(r);return a.listener=n,r.wrapFn=a,a}function l(t,e,n){var r=t._events;if(void 0===r)return[];var a=r[e];return void 0===a?[]:"function"==typeof a?n?[a.listener||a]:[a]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(a):d(a,a.length)}function h(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function d(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");s=t}}),c.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},c.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},c.prototype.getMaxListeners=function(){return u(this)},c.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,a=this._events;if(void 0!==a)r=r&&void 0===a.error;else if(!r)return!1;if(r){var i;if(e.length>0&&(i=e[0]),i instanceof Error)throw i;var c=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw c.context=i,c}var s=a[t];if(void 0===s)return!1;if("function"==typeof s)o(s,this,e);else{var u=s.length,f=d(s,u);for(n=0;n<u;++n)o(f[n],this,e)}return!0},c.prototype.addListener=function(t,e){return f(this,t,e,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function(t,e){return f(this,t,e,!0)},c.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.on(t,p(this,t,e)),this},c.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.prependListener(t,p(this,t,e)),this},c.prototype.removeListener=function(t,e){var n,r,a,o,i;if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);if(void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(a=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){i=n[o].listener,a=o;break}if(a<0)return this;0===a?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,a),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,i||e)}return this},c.prototype.off=c.prototype.removeListener,c.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var a,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(a=o[r])&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},c.prototype.listeners=function(t){return l(this,t,!0)},c.prototype.rawListeners=function(t){return l(this,t,!1)},c.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):h.call(t,e)},c.prototype.listenerCount=h,c.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(t,e){t.exports=v},function(t,e,n){var r=n(11)(n(36)(["find"],n(160),function(t,e){for(var n=0,r=e.length;n<r;){if(t(e[n]))return e[n];n+=1}}));t.exports=r},function(t,e,n){var r=n(71)(function(t){return t.apply(this,Array.prototype.slice.call(arguments,1))});t.exports=r},function(t,e,n){var r=n(161),a=n(162);t.exports=function(t,e,n){var o=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var i=(t=t||{}).random||(t.rng||r)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e)for(var c=0;c<16;++c)e[o+c]=i[c];return e||a(i)}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";e.byteLength=function(t){var e=u(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){for(var e,n=u(t),r=n[0],i=n[1],c=new o(function(t,e,n){return 3*(e+n)/4-n}(0,r,i)),s=0,f=i>0?r-4:r,p=0;p<f;p+=4)e=a[t.charCodeAt(p)]<<18|a[t.charCodeAt(p+1)]<<12|a[t.charCodeAt(p+2)]<<6|a[t.charCodeAt(p+3)],c[s++]=e>>16&255,c[s++]=e>>8&255,c[s++]=255&e;2===i&&(e=a[t.charCodeAt(p)]<<2|a[t.charCodeAt(p+1)]>>4,c[s++]=255&e);1===i&&(e=a[t.charCodeAt(p)]<<10|a[t.charCodeAt(p+1)]<<4|a[t.charCodeAt(p+2)]>>2,c[s++]=e>>8&255,c[s++]=255&e);return c},e.fromByteArray=function(t){for(var e,n=t.length,a=n%3,o=[],i=0,c=n-a;i<c;i+=16383)o.push(f(t,i,i+16383>c?c:i+16383));1===a?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===a&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return o.join("")};for(var r=[],a=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,s=i.length;c<s;++c)r[c]=i[c],a[i.charCodeAt(c)]=c;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function f(t,e,n){for(var a,o,i=[],c=e;c<n;c+=3)a=(t[c]<<16&16711680)+(t[c+1]<<8&65280)+(255&t[c+2]),i.push(r[(o=a)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return i.join("")}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,a){var o,i,c=8*a-r-1,s=(1<<c)-1,u=s>>1,f=-7,p=n?a-1:0,l=n?-1:1,h=t[e+p];for(p+=l,o=h&(1<<-f)-1,h>>=-f,f+=c;f>0;o=256*o+t[e+p],p+=l,f-=8);for(i=o&(1<<-f)-1,o>>=-f,f+=r;f>0;i=256*i+t[e+p],p+=l,f-=8);if(0===o)o=1-u;else{if(o===s)return i?NaN:1/0*(h?-1:1);i+=Math.pow(2,r),o-=u}return(h?-1:1)*i*Math.pow(2,o-r)},e.write=function(t,e,n,r,a,o){var i,c,s,u=8*o-a-1,f=(1<<u)-1,p=f>>1,l=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,d=r?1:-1,v=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(c=isNaN(e)?1:0,i=f):(i=Math.floor(Math.log(e)/Math.LN2),e*(s=Math.pow(2,-i))<1&&(i--,s*=2),(e+=i+p>=1?l/s:l*Math.pow(2,1-p))*s>=2&&(i++,s/=2),i+p>=f?(c=0,i=f):i+p>=1?(c=(e*s-1)*Math.pow(2,a),i+=p):(c=e*Math.pow(2,p-1)*Math.pow(2,a),i=0));a>=8;t[n+h]=255&c,h+=d,c/=256,a-=8);for(i=i<<a|c,u+=a;u>0;t[n+h]=255&i,h+=d,i/=256,u-=8);t[n+h-d]|=128*v}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){var r=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function s(t,e,n,r){var a=e&&e.prototype instanceof v?e:v,o=Object.create(a.prototype),i=new A(r||[]);return o._invoke=function(t,e,n){var r=f;return function(a,o){if(r===l)throw new Error("Generator is already running");if(r===h){if("throw"===a)throw o;return E()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=O(i,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=l;var s=u(t,e,n);if("normal"===s.type){if(r=n.done?h:p,s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=h,n.method="throw",n.arg=s.arg)}}}(t,n,i),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f="suspendedStart",p="suspendedYield",l="executing",h="completed",d={};function v(){}function m(){}function y(){}var g={};g[o]=function(){return this};var b=Object.getPrototypeOf,x=b&&b(b(j([])));x&&x!==n&&r.call(x,o)&&(g=x);var w=y.prototype=v.prototype=Object.create(g);function k(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function T(t){var e;this._invoke=function(n,a){function o(){return new Promise(function(e,o){!function e(n,a,o,i){var c=u(t[n],t,a);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?Promise.resolve(f.__await).then(function(t){e("next",t,o,i)},function(t){e("throw",t,o,i)}):Promise.resolve(f).then(function(t){s.value=t,o(s)},function(t){return e("throw",t,o,i)})}i(c.arg)}(n,a,e,o)})}return e=e?e.then(o,o):o()}}function O(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,O(t,n),"throw"===n.method))return d;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var a=u(r,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,d;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,d):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function j(t){if(t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}return{next:E}}function E(){return{value:e,done:!0}}return m.prototype=w.constructor=y,y.constructor=m,y[c]=m.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,c in t||(t[c]="GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},k(T.prototype),T.prototype[i]=function(){return this},t.AsyncIterator=T,t.async=function(e,n,r,a){var o=new T(s(e,n,r,a));return t.isGeneratorFunction(n)?o:o.next().then(function(t){return t.done?t.value:o.next()})},k(w),w[c]="Generator",w[o]=function(){return this},w.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=j,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return c.type="throw",c.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var a=r.arg;I(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:j(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),d}},t}(t.exports);try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}},function(t,e){t.exports=function(t,e){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=t[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){a=!0,o=t}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}},function(t,e){t.exports=function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(t,e,n){var r=n(24);t.exports=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1,a=arguments.length;n<a;){var o=arguments[n];if(null!=o)for(var i in o)r(i,o)&&(e[i]=o[i]);n+=1}return e}},function(t,e,n){var r=n(85);t.exports=function(t){return function e(n){for(var a,o,i,c=[],s=0,u=n.length;s<u;){if(r(n[s]))for(i=0,o=(a=t?e(n[s]):n[s]).length;i<o;)c[c.length]=a[i],i+=1;else c[c.length]=n[s];s+=1}return c}}},function(t,e,n){var r=n(131);t.exports=function(t,e,n){var a,o;if("function"==typeof t.indexOf)switch(typeof e){case"number":if(0===e){for(a=1/e;n<t.length;){if(0===(o=t[n])&&1/o===a)return n;n+=1}return-1}if(e!=e){for(;n<t.length;){if("number"==typeof(o=t[n])&&o!=o)return n;n+=1}return-1}return t.indexOf(e,n);case"string":case"boolean":case"function":case"undefined":return t.indexOf(e,n);case"object":if(null===e)return t.indexOf(e,n)}for(;n<t.length;){if(r(t[n],e))return n;n+=1}return-1}},function(t,e,n){var r=n(11),a=n(132),o=r(function(t,e){return a(t,e,[],[])});t.exports=o},function(t,e,n){var r=n(133),a=n(87),o=n(134),i=n(24),c=n(69),s=n(22),u=n(39);function f(t,e,n,o){var i=r(t),c=r(e);function s(t,e){return p(t,e,n.slice(),o.slice())}return!a(function(t,e){return!a(s,e,t)},c,i)}function p(t,e,n,r){if(c(t,e))return!0;var a=u(t);if(a!==u(e))return!1;if(null==t||null==e)return!1;if("function"==typeof t["fantasy-land/equals"]||"function"==typeof e["fantasy-land/equals"])return"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e)&&"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t);if("function"==typeof t.equals||"function"==typeof e.equals)return"function"==typeof t.equals&&t.equals(e)&&"function"==typeof e.equals&&e.equals(t);switch(a){case"Arguments":case"Array":case"Object":if("function"==typeof t.constructor&&"Promise"===o(t.constructor))return t===e;break;case"Boolean":case"Number":case"String":if(typeof t!=typeof e||!c(t.valueOf(),e.valueOf()))return!1;break;case"Date":if(!c(t.valueOf(),e.valueOf()))return!1;break;case"Error":return t.name===e.name&&t.message===e.message;case"RegExp":if(t.source!==e.source||t.global!==e.global||t.ignoreCase!==e.ignoreCase||t.multiline!==e.multiline||t.sticky!==e.sticky||t.unicode!==e.unicode)return!1}for(var l=n.length-1;l>=0;){if(n[l]===t)return r[l]===e;l-=1}switch(a){case"Map":return t.size===e.size&&f(t.entries(),e.entries(),n.concat([t]),r.concat([e]));case"Set":return t.size===e.size&&f(t.values(),e.values(),n.concat([t]),r.concat([e]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var h=s(t);if(h.length!==s(e).length)return!1;var d=n.concat([t]),v=r.concat([e]);for(l=h.length-1;l>=0;){var m=h[l];if(!i(m,e)||!p(e[m],t[m],d,v))return!1;l-=1}return!0}t.exports=p},function(t,e){t.exports=function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}},function(t,e){t.exports=function(t){var e=String(t).match(/^function (\w*)/);return null==e?"":e[1]}},function(t,e,n){var r=n(24),a=Object.prototype.toString;t.exports=function(){return"[object Arguments]"===a.call(arguments)?function(t){return"[object Arguments]"===a.call(t)}:function(t){return r("callee",t)}}},function(t,e){t.exports=function(t){return function(){return!t.apply(this,arguments)}}},function(t,e,n){var r=n(11),a=n(36),o=n(139),i=n(88),c=n(46),s=n(142),u=n(22),f=r(a(["filter"],s,function(t,e){return i(e)?c(function(n,r){return t(e[r])&&(n[r]=e[r]),n},{},u(e)):o(t,e)}));t.exports=f},function(t,e){t.exports=function(t){return"function"==typeof t["@@transducer/step"]}},function(t,e){t.exports=function(t,e){for(var n=0,r=e.length,a=[];n<r;)t(e[n])&&(a[a.length]=e[n]),n+=1;return a}},function(t,e){var n=function(){function t(t){this.f=t}return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(t){return t},t.prototype["@@transducer/step"]=function(t,e){return this.f(t,e)},t}();t.exports=function(t){return new n(t)}},function(t,e,n){var r=n(55),a=n(11)(function(t,e){return r(t.length,function(){return t.apply(e,arguments)})});t.exports=a},function(t,e,n){var r=n(11),a=n(37),o=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=a.init,t.prototype["@@transducer/result"]=a.result,t.prototype["@@transducer/step"]=function(t,e){return this.f(e)?this.xf["@@transducer/step"](t,e):t},t}(),i=r(function(t,e){return new o(t,e)});t.exports=i},function(t,e,n){var r=n(53),a=n(90),o=n(144),i=n(145),c=n(22),s=n(48);t.exports=function t(e,n){var u=function(a){var o=n.concat([e]);return r(a,o)?"<Circular>":t(a,o)},f=function(t,e){return a(function(e){return o(e)+": "+u(t[e])},e.slice().sort())};switch(Object.prototype.toString.call(e)){case"[object Arguments]":return"(function() { return arguments; }("+a(u,e).join(", ")+"))";case"[object Array]":return"["+a(u,e).concat(f(e,s(function(t){return/^\d+$/.test(t)},c(e)))).join(", ")+"]";case"[object Boolean]":return"object"==typeof e?"new Boolean("+u(e.valueOf())+")":e.toString();case"[object Date]":return"new Date("+(isNaN(e.valueOf())?u(NaN):o(i(e)))+")";case"[object Null]":return"null";case"[object Number]":return"object"==typeof e?"new Number("+u(e.valueOf())+")":1/e==-1/0?"-0":e.toString(10);case"[object String]":return"object"==typeof e?"new String("+u(e.valueOf())+")":o(e);case"[object Undefined]":return"undefined";default:if("function"==typeof e.toString){var p=e.toString();if("[object Object]"!==p)return p}return"{"+f(e,c(e)).join(", ")+"}"}}},function(t,e){t.exports=function(t){return'"'+t.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0").replace(/"/g,'\\"')+'"'}},function(t,e){var n=function(t){return(t<10?"0":"")+t},r="function"==typeof Date.prototype.toISOString?function(t){return t.toISOString()}:function(t){return t.getUTCFullYear()+"-"+n(t.getUTCMonth()+1)+"-"+n(t.getUTCDate())+"T"+n(t.getUTCHours())+":"+n(t.getUTCMinutes())+":"+n(t.getUTCSeconds())+"."+(t.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"};t.exports=r},function(t,e,n){var r=n(147);t.exports=function(t,e){return r(t<e.length?e.length-t:0,e)}},function(t,e,n){var r=n(11),a=n(36),o=n(148),i=n(92),c=r(a(["take"],o,function(t,e){return i(0,t<0?1/0:t,e)}));t.exports=c},function(t,e,n){var r=n(11),a=n(91),o=n(37),i=function(){function t(t,e){this.xf=e,this.n=t,this.i=0}return t.prototype["@@transducer/init"]=o.init,t.prototype["@@transducer/result"]=o.result,t.prototype["@@transducer/step"]=function(t,e){this.i+=1;var n=0===this.n?t:this.xf["@@transducer/step"](t,e);return this.n>=0&&this.i>=this.n?a(n):n},t}(),c=r(function(t,e){return new i(t,e)});t.exports=c},function(t,e,n){var r=n(11),a=n(37),o=function(){function t(t,e){this.xf=e,this.pos=0,this.full=!1,this.acc=new Array(t)}return t.prototype["@@transducer/init"]=a.init,t.prototype["@@transducer/result"]=function(t){return this.acc=null,this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.full&&(t=this.xf["@@transducer/step"](t,this.acc[this.pos])),this.store(e),t},t.prototype.store=function(t){this.acc[this.pos]=t,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},t}(),i=r(function(t,e){return new o(t,e)});t.exports=i},function(t,e,n){var r=n(67),a=n(24),o=n(37),i=function(){function t(t,e,n,r){this.valueFn=t,this.valueAcc=e,this.keyFn=n,this.xf=r,this.inputs={}}return t.prototype["@@transducer/init"]=o.init,t.prototype["@@transducer/result"]=function(t){var e;for(e in this.inputs)if(a(e,this.inputs)&&(t=this.xf["@@transducer/step"](t,this.inputs[e]))["@@transducer/reduced"]){t=t["@@transducer/value"];break}return this.inputs=null,this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){var n=this.keyFn(e);return this.inputs[n]=this.inputs[n]||[n,this.valueAcc],this.inputs[n][1]=this.valueFn(this.inputs[n][1],e),t},t}(),c=r(4,[],function(t,e,n,r){return new i(t,e,n,r)});t.exports=c},function(t,e,n){var r=n(11),a=n(37),o=function(){function t(t,e){this.xf=e,this.n=t}return t.prototype["@@transducer/init"]=a.init,t.prototype["@@transducer/result"]=a.result,t.prototype["@@transducer/step"]=function(t,e){return this.n>0?(this.n-=1,t):this.xf["@@transducer/step"](t,e)},t}(),i=r(function(t,e){return new o(t,e)});t.exports=i},function(t,e,n){var r=n(55),a=n(11),o=n(24),i=a(function(t,e){var n={};return r(e.length,function(){var r=t.apply(this,arguments);return o(r,n)||(n[r]=e.apply(this,arguments)),n[r]})});t.exports=i},function(t,e){t.exports=function(t){return t}},function(t,e,n){var r=n(11),a=n(36),o=n(90),i=n(46),c=n(155),s=n(54),u=n(22),f=r(a(["fantasy-land/map","map"],c,function(t,e){switch(Object.prototype.toString.call(e)){case"[object Function]":return s(e.length,function(){return t.call(this,e.apply(this,arguments))});case"[object Object]":return i(function(n,r){return n[r]=t(e[r]),n},{},u(e));default:return o(t,e)}}));t.exports=f},function(t,e,n){var r=n(11),a=n(37),o=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=a.init,t.prototype["@@transducer/result"]=a.result,t.prototype["@@transducer/step"]=function(t,e){return this.xf["@@transducer/step"](t,this.f(e))},t}(),i=r(function(t,e){return new o(t,e)});t.exports=i},function(t,e,n){var r=n(47),a=n(88),o=n(157),i=r(function t(e,n,r){return o(function(n,r,o){return a(r)&&a(o)?t(e,r,o):e(n,r,o)},n,r)});t.exports=i},function(t,e,n){var r=n(47),a=n(24),o=r(function(t,e,n){var r,o={};for(r in e)a(r,e)&&(o[r]=a(r,n)?t(r,e[r],n[r]):e[r]);for(r in n)a(r,n)&&!a(r,o)&&(o[r]=n[r]);return o});t.exports=o},function(t,e){t.exports=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},function(t,e){var n,r,a=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function c(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:i}catch(t){r=i}}();var s,u=[],f=!1,p=-1;function l(){f&&s&&(f=!1,s.length?u=s.concat(u):p=-1,u.length&&h())}function h(){if(!f){var t=c(l);f=!0;for(var e=u.length;e;){for(s=u,u=[];++p<e;)s&&s[p].run();p=-1,e=u.length}s=null,f=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function v(){}a.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new d(t,e)),1!==u.length||f||c(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=v,a.addListener=v,a.once=v,a.off=v,a.removeListener=v,a.removeAllListeners=v,a.emit=v,a.prependListener=v,a.prependOnceListener=v,a.listeners=function(t){return[]},a.binding=function(t){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(t){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(t,e,n){var r=n(11),a=n(91),o=n(37),i=function(){function t(t,e){this.xf=e,this.f=t,this.found=!1}return t.prototype["@@transducer/init"]=o.init,t.prototype["@@transducer/result"]=function(t){return this.found||(t=this.xf["@@transducer/step"](t,void 0)),this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.f(e)&&(this.found=!0,t=a(this.xf["@@transducer/step"](t,e))),t},t}(),c=r(function(t,e){return new i(t,e)});t.exports=c},function(t,e){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);t.exports=function(){return n(r),r}}else{var a=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),a[e]=t>>>((3&e)<<3)&255;return a}}},function(t,e){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);t.exports=function(t,e){var r=e||0,a=n;return[a[t[r++]],a[t[r++]],a[t[r++]],a[t[r++]],"-",a[t[r++]],a[t[r++]],"-",a[t[r++]],a[t[r++]],"-",a[t[r++]],a[t[r++]],"-",a[t[r++]],a[t[r++]],a[t[r++]],a[t[r++]],a[t[r++]],a[t[r++]]].join("")}},function(t,e,n){"use strict";n.r(e);var r=n(7),a=n(14),o=n(12),i=n(95),c=n(17),s=n(42),u=n(22),f=n.n(u),p=n(8),l=n.n(p),h=n(0),d=n.n(h),v=n(5),m=n.n(v),y=n(4),g=n.n(y),b=n(1),x=n.n(b),w=n(34);function k(){return(k=x()(d.a.mark(function t(e){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.api.getOracleByPubkey(e));case 1:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function T(){return(T=x()(d.a.mark(function t(e){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.api.getOracleQueriesByPubkey(e));case 1:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function O(){return(O=x()(d.a.mark(function t(e,n){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.api.getOracleQueryByPubkeyAndQueryId(e,n));case 1:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}var C=n(59).a.compose(w.a,{methods:{getOracle:function(t){return k.apply(this,arguments)},getOracleQueries:function(t){return T.apply(this,arguments)},getOracleQuery:function(t,e){return O.apply(this,arguments)}}}),I=n(10),A=[{name:"exa",magnitude:18},{name:"giga",magnitude:9},{name:"",magnitude:0},{name:"pico",magnitude:-12}],j=function(t){I.BigNumber.isBigNumber(t)||(t=Object(I.BigNumber)(t));var e=(t.e<0?function(t){return A.reduce(function(e,n){return Math.abs(n.magnitude-t)<Math.abs(e.magnitude-t)?n:e})}:function(t){return A.find(function(e){return e.magnitude<=t})||A[A.length-1]})(t.e),n=e.name,r=e.magnitude,a=t.shiftedBy(-r).precision(9+Math.min(t.e-r,0)).toFixed();return"".concat(a).concat(n?" ":"").concat(n)},E=n(56);function P(){return(P=x()(d.a.mark(function t(e){var n,r,a,o,i,c,s,u,f,p,l=this,h=arguments;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=h.length>1&&void 0!==h[1]?h[1]:{},r=g()(this.Chain.defaults,n),a=r.waitMined,o=r.verify,!this.verifyTxBeforeSend&&!o){t.next=11;break}return t.next=5,this.unpackAndVerify(e);case 5:if(i=t.sent,c=i.validation,s=i.tx,u=i.txType,!c.length){t.next=11;break}throw Object.assign(Error("Transaction verification error"),{code:"TX_VERIFICATION_ERROR",errorData:{validation:c,tx:s,txType:u},txHash:e});case 11:return t.prev=11,t.next=14,this.api.postTransaction({tx:e});case 14:if(f=t.sent,p=f.txHash,!a){t.next=26;break}return t.t1=m.a,t.t2={},t.next=21,this.poll(p,n);case 21:t.t3=t.sent,t.t4={rawTx:e},t.t0=(0,t.t1)(t.t2,t.t3,t.t4),t.next=27;break;case 26:t.t0={hash:p,rawTx:e};case 27:return t.abrupt("return",t.t0);case 30:throw t.prev=30,t.t5=t.catch(11),Object.assign(new Error(t.t5.message),{rawTx:e,verifyTx:function(){return l.unpackAndVerify(e)}});case 33:case"end":return t.stop()}},t,this,[[11,30]])}))).apply(this,arguments)}function _(){return(_=x()(d.a.mark(function t(e){var n,r,a,o=arguments;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=o.length>1&&void 0!==o[1]?o[1]:{},r=n.height,a=n.hash,!r){t.next=3;break}return t.abrupt("return",this.api.getAccountByPubkeyAndHeight(e,r));case 3:if(!a){t.next=5;break}return t.abrupt("return",this.api.getAccountByPubkeyAndHash(e,a));case 5:return t.abrupt("return",this.api.getAccountByPubkey(e));case 6:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function S(){return(S=x()(d.a.mark(function t(e){var n,r,a,o,i,c,s,u=arguments;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},r=n.height,a=n.hash,o=n.format,i=void 0!==o&&o,t.next=3,this.getAccount(e,{hash:a,height:r});case 3:return c=t.sent,s=c.balance,t.abrupt("return",i?j(s):s.toString());case 6:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function B(){return(B=x()(d.a.mark(function t(e){var n,r,a=arguments;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],t.next=3,this.api.getTransactionByHash(e);case 3:if(r=t.sent,!["ContractCreateTx","ContractCallTx"].includes(r.tx.type)||!n){t.next=18;break}return t.prev=5,t.t0=m.a,t.t1={},t.t2=r,t.next=11,this.getTxInfo(e);case 11:return t.t3=t.sent,t.abrupt("return",(0,t.t0)(t.t1,t.t2,t.t3));case 15:return t.prev=15,t.t4=t.catch(5),t.abrupt("return",r);case 18:return t.abrupt("return",r);case 19:case"end":return t.stop()}},t,this,[[5,15]])}))).apply(this,arguments)}function R(){return(R=x()(d.a.mark(function t(){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.api.getCurrentKeyBlockHeight();case 2:return t.abrupt("return",t.sent.height);case 3:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function N(t){return V.apply(this,arguments)}function V(){return(V=x()(d.a.mark(function t(e){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise(function(t){return setTimeout(t,e)});case 2:case"end":return t.stop()}},t)}))).apply(this,arguments)}function U(){return(U=x()(d.a.mark(function t(e){var n,r,a,o,i,c,s,u,f=arguments;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u=function(){return(u=x()(d.a.mark(function t(n){var r;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.height();case 2:if(!((r=t.sent)>=e)){t.next=5;break}return t.abrupt("return",r);case 5:if(!(n>0)){t.next=9;break}return t.next=8,N(a);case 8:return t.abrupt("return",s(n-1));case 9:throw Error("Giving up after ".concat(i*a,"ms, current=").concat(r,", h=").concat(e));case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)},s=function(t){return u.apply(this,arguments)},n=f.length>1&&void 0!==f[1]?f[1]:{},r=n.interval,a=void 0===r?5e3:r,o=n.attempts,i=void 0===o?20:o,c=this,t.abrupt("return",s(i));case 5:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function L(){return(L=x()(d.a.mark(function t(){var e;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.api.getTopBlock();case 2:return e=t.sent,t.abrupt("return",e[l()(f()(e))]);case 4:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function q(){return(q=x()(d.a.mark(function t(e){var n,r,a,o,i,c,s,u,f,p=arguments;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return f=function(){return(f=x()(d.a.mark(function t(){var n;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.tx(e);case 2:if(-1===(n=t.sent).blockHeight){t.next=5;break}return t.abrupt("return",n);case 5:return t.next=7,c.height();case 7:if(t.t0=t.sent,t.t1=s,!(t.t0<t.t1)){t.next=13;break}return t.next=12,N(i);case 12:return t.abrupt("return",u());case 13:throw new Error("Giving up after ".concat(a," blocks mined. TxHash ").concat(e));case 14:case"end":return t.stop()}},t)}))).apply(this,arguments)},u=function(){return f.apply(this,arguments)},n=p.length>1&&void 0!==p[1]?p[1]:{},r=n.blocks,a=void 0===r?10:r,o=n.interval,i=void 0===o?5e3:o,c=this,t.next=6,this.height();case 6:return t.t0=t.sent,t.t1=a,s=t.t0+t.t1,t.abrupt("return",u());case 10:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function M(){return(M=x()(d.a.mark(function t(e){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.api.getTransactionInfoByHash(e).then(function(t){return t.callInfo?t.callInfo:t}));case 1:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function F(){return(F=x()(d.a.mark(function t(){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.api.getPendingTransactions());case 1:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function D(){return(D=x()(d.a.mark(function t(){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.api.getCurrentGeneration());case 1:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function K(){return(K=x()(d.a.mark(function t(e){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("string"!=typeof e){t.next=2;break}return t.abrupt("return",this.api.getGenerationByHash(e));case 2:if("number"!=typeof e){t.next=4;break}return t.abrupt("return",this.api.getGenerationByHeight(e));case 4:throw new Error("Invalid param, param must be hash or height");case 5:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function H(){return(H=x()(d.a.mark(function t(e){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.api.getMicroBlockTransactionsByHash(e);case 2:return t.abrupt("return",t.sent.transactions);case 3:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function W(){return(W=x()(d.a.mark(function t(e){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("string"!=typeof e){t.next=2;break}return t.abrupt("return",this.api.getKeyBlockByHash(e));case 2:if("number"!=typeof e){t.next=4;break}return t.abrupt("return",this.api.getKeyBlockByHeight(e));case 4:throw new Error("Invalid param, param must be hash or height");case 5:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function Y(){return(Y=x()(d.a.mark(function t(e){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.api.getMicroBlockHeaderByHash(e));case 1:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function Q(){return(Q=x()(d.a.mark(function t(e,n,r){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.api.dryRunTxs({txs:e,accounts:n,top:r}));case 1:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function z(){return(z=x()(d.a.mark(function t(e){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.api.getContractCode(e));case 1:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function G(){return(G=x()(d.a.mark(function t(e){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.api.getNameEntryByName(e));case 1:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}var X=s.a.compose(w.a,C,E.a,{init:function(t){var e=t.verifyTx,n=void 0!==e&&e;this.verifyTxBeforeSend=n},methods:{sendTransaction:function(t){return P.apply(this,arguments)},balance:function(t){return S.apply(this,arguments)},getAccount:function(t){return _.apply(this,arguments)},topBlock:function(){return L.apply(this,arguments)},tx:function(t){return B.apply(this,arguments)},height:function(){return R.apply(this,arguments)},awaitHeight:function(t){return U.apply(this,arguments)},poll:function(t){return q.apply(this,arguments)},getTxInfo:function(t){return M.apply(this,arguments)},mempool:function(){return F.apply(this,arguments)},getCurrentGeneration:function(){return D.apply(this,arguments)},getGeneration:function(t){return K.apply(this,arguments)},getMicroBlockHeader:function(t){return Y.apply(this,arguments)},getMicroBlockTransactions:function(t){return H.apply(this,arguments)},getKeyBlock:function(t){return W.apply(this,arguments)},txDryRun:function(t,e,n){return Q.apply(this,arguments)},getContractByteCode:function(t){return z.apply(this,arguments)},getName:function(t){return G.apply(this,arguments)}}}),$=n(41),J=n(63),Z=n.n(J),tt=n(28),et=n.n(tt),nt=n(3);function rt(){return(rt=x()(d.a.mark(function t(e){var n,r,o,i,c,s,u,f,p,h,v,y=arguments;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.senderId,r=e.recipientId,o=e.amount,i=e.payload,c=void 0===i?"":i,t.next=3,this.prepareTxParams(nt.p.spend,m()({senderId:n},l()(y),{payload:c}));case 3:if(s=t.sent,u=s.fee,f=s.ttl,p=s.nonce,!this.nativeMode){t.next=11;break}t.t0=Object(a.buildTx)(g()(l()(y),{recipientId:r,senderId:n,nonce:p,ttl:f,fee:u,payload:c}),nt.p.spend),t.next=14;break;case 11:return t.next=13,this.api.postSpend(g()(l()(y),{amount:parseInt(o),recipientId:r,senderId:n,nonce:p,ttl:f,fee:parseInt(u),payload:c}));case 13:t.t0=t.sent;case 14:return h=t.t0,v=h.tx,t.abrupt("return",v);case 17:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function at(){return(at=x()(d.a.mark(function t(e){var n,r,o,i,c,s,u,f=arguments;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.accountId,e.commitmentId,t.next=3,this.prepareTxParams(nt.p.namePreClaim,m()({senderId:n},l()(f)));case 3:if(r=t.sent,o=r.fee,i=r.ttl,c=r.nonce,!this.nativeMode){t.next=11;break}t.t0=Object(a.buildTx)(g()(l()(f),{nonce:c,ttl:i,fee:o}),nt.p.namePreClaim),t.next=14;break;case 11:return t.next=13,this.api.postNamePreclaim(g()(l()(f),{nonce:c,ttl:i,fee:parseInt(o)}));case 13:t.t0=t.sent;case 14:return s=t.t0,u=s.tx,t.abrupt("return",u);case 17:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function ot(){return(ot=x()(d.a.mark(function t(e){var n,r,o,i,c,s,u,f=arguments;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.accountId,e.name,e.nameSalt,t.next=3,this.prepareTxParams(nt.p.nameClaim,m()({senderId:n},l()(f)));case 3:if(r=t.sent,o=r.fee,i=r.ttl,c=r.nonce,!this.nativeMode){t.next=11;break}t.t0=Object(a.buildTx)(g()(l()(f),{nonce:c,ttl:i,fee:o}),nt.p.nameClaim),t.next=14;break;case 11:return t.next=13,this.api.postNameClaim(g()(l()(f),{nonce:c,ttl:i,fee:parseInt(o)}));case 13:t.t0=t.sent;case 14:return s=t.t0,u=s.tx,t.abrupt("return",u);case 17:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function it(){return(it=x()(d.a.mark(function t(e){var n,r,o,i,c,s,u,f,p=arguments;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.accountId,e.nameId,r=e.recipientId,t.next=3,this.prepareTxParams(nt.p.nameTransfer,m()({senderId:n},l()(p)));case 3:if(o=t.sent,i=o.fee,c=o.ttl,s=o.nonce,!this.nativeMode){t.next=11;break}t.t0=Object(a.buildTx)(g()(l()(p),{recipientId:r,nonce:s,ttl:c,fee:i}),nt.p.nameTransfer),t.next=14;break;case 11:return t.next=13,this.api.postNameTransfer(g()(l()(p),{recipientId:r,nonce:s,ttl:c,fee:parseInt(i)}));case 13:t.t0=t.sent;case 14:return u=t.t0,f=u.tx,t.abrupt("return",f);case 17:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function ct(){return(ct=x()(d.a.mark(function t(e){var n,r,o,i,c,s,u,f=arguments;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.accountId,e.nameId,e.nameTtl,e.pointers,e.clientTtl,t.next=3,this.prepareTxParams(nt.p.nameUpdate,m()({senderId:n},l()(f)));case 3:if(r=t.sent,o=r.fee,i=r.ttl,c=r.nonce,!this.nativeMode){t.next=11;break}t.t0=Object(a.buildTx)(g()(l()(f),{nonce:c,ttl:i,fee:o}),nt.p.nameUpdate),t.next=14;break;case 11:return t.next=13,this.api.postNameUpdate(g()(l()(f),{nonce:c,ttl:i,fee:parseInt(o)}));case 13:t.t0=t.sent;case 14:return s=t.t0,u=s.tx,t.abrupt("return",u);case 17:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function st(){return(st=x()(d.a.mark(function t(e){var n,r,o,i,c,s,u,f=arguments;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.accountId,e.nameId,t.next=3,this.prepareTxParams(nt.p.nameRevoke,m()({senderId:n},l()(f)));case 3:if(r=t.sent,o=r.fee,i=r.ttl,c=r.nonce,!this.nativeMode){t.next=11;break}t.t0=Object(a.buildTx)(g()(l()(f),{nonce:c,ttl:i,fee:o}),nt.p.nameRevoke),t.next=14;break;case 11:return t.next=13,this.api.postNameRevoke(g()(l()(f),{nonce:c,ttl:i,fee:parseInt(o)}));case 13:t.t0=t.sent;case 14:return s=t.t0,u=s.tx,t.abrupt("return",u);case 17:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function ut(){return(ut=x()(d.a.mark(function t(e){var n,r,i,c,s,u,f,p,h,v=arguments;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.ownerId,e.code,e.vmVersion,e.abiVersion,e.deposit,e.amount,r=e.gas,i=e.gasPrice,c=void 0===i?nt.f:i,e.callData,s=this.getVmVersion(nt.p.contractCreate,l()(v)),t.next=4,this.prepareTxParams(nt.p.contractCreate,m()({senderId:n},l()(v),{ctVersion:s,gasPrice:c}));case 4:return u=t.sent,f=u.fee,p=u.ttl,h=u.nonce,t.abrupt("return",this.nativeMode?m()({},Object(a.buildTx)(g()(l()(v),{nonce:h,ttl:p,fee:f,ctVersion:s,gasPrice:c}),nt.p.contractCreate),{contractId:Object(o.buildContractId)(n,h)}):this.api.postContractCreate(g()(l()(v),{nonce:h,ttl:p,fee:parseInt(f),gas:parseInt(r),gasPrice:c,vmVersion:s.vmVersion,abiVersion:s.abiVersion})));case 9:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function ft(){return(ft=x()(d.a.mark(function t(e){var n,r,o,i,c,s,u,f,p,h,v,y=arguments;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.callerId,e.contractId,e.abiVersion,e.amount,r=e.gas,o=e.gasPrice,i=void 0===o?nt.f:o,e.callData,c=this.getVmVersion(nt.p.contractCall,l()(y)),t.next=4,this.prepareTxParams(nt.p.contractCall,m()({senderId:n},l()(y),{gasPrice:i,abiVersion:c.abiVersion}));case 4:if(s=t.sent,u=s.fee,f=s.ttl,p=s.nonce,!this.nativeMode){t.next=12;break}t.t0=Object(a.buildTx)(g()(l()(y),{nonce:p,ttl:f,fee:u,abiVersion:c.abiVersion,gasPrice:i}),nt.p.contractCall),t.next=15;break;case 12:return t.next=14,this.api.postContractCall(g()(l()(y),{nonce:p,ttl:f,fee:parseInt(u),gas:parseInt(r),gasPrice:i,abiVersion:c.abiVersion}));case 14:t.t0=t.sent;case 15:return h=t.t0,v=h.tx,t.abrupt("return",v);case 18:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function pt(){return(pt=x()(d.a.mark(function t(e){var n,r,o,i,c,s,u,f,p,h,v,y,g,b=arguments;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.accountId,r=e.queryFormat,o=e.responseFormat,i=e.queryFee,c=e.oracleTtl,e.abiVersion,s=this.getVmVersion(nt.p.oracleRegister,l()(b)),u=s.abiVersion,t.next=4,this.prepareTxParams(nt.p.oracleRegister,m()({senderId:n},l()(b),{abiVersion:u}));case 4:if(f=t.sent,p=f.fee,h=f.ttl,v=f.nonce,!this.nativeMode){t.next=12;break}t.t0=Object(a.buildTx)({accountId:n,queryFee:i,abiVersion:u,fee:p,oracleTtl:c,nonce:v,ttl:h,queryFormat:r,responseFormat:o},nt.p.oracleRegister),t.next=15;break;case 12:return t.next=14,this.api.postOracleRegister({accountId:n,queryFee:i,abiVersion:u,fee:parseInt(p),oracleTtl:c,nonce:v,ttl:h,queryFormat:r,responseFormat:o});case 14:t.t0=t.sent;case 15:return y=t.t0,g=y.tx,t.abrupt("return",g);case 18:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function lt(){return(lt=x()(d.a.mark(function t(e){var n,r,o,i,c,s,u,f,p,h=arguments;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.oracleId,r=e.callerId,o=e.oracleTtl,t.next=3,this.prepareTxParams(nt.p.oracleExtend,m()({senderId:r},l()(h)));case 3:if(i=t.sent,c=i.fee,s=i.ttl,u=i.nonce,!this.nativeMode){t.next=11;break}t.t0=Object(a.buildTx)({oracleId:n,fee:c,oracleTtl:o,nonce:u,ttl:s},nt.p.oracleExtend),t.next=14;break;case 11:return t.next=13,this.api.postOracleExtend({oracleId:n,fee:parseInt(c),oracleTtl:o,nonce:u,ttl:s});case 13:t.t0=t.sent;case 14:return f=t.t0,p=f.tx,t.abrupt("return",p);case 17:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function ht(){return(ht=x()(d.a.mark(function t(e){var n,r,i,c,s,u,f,p,h,v,y,g,b=arguments;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.oracleId,r=e.responseTtl,i=e.query,c=e.queryTtl,s=e.queryFee,u=e.senderId,t.next=3,this.prepareTxParams(nt.p.oracleQuery,m()({senderId:u},l()(b)));case 3:if(f=t.sent,p=f.fee,h=f.ttl,v=f.nonce,!this.nativeMode){t.next=11;break}t.t0=Object(a.buildTx)({oracleId:n,responseTtl:r,query:i,queryTtl:c,fee:p,queryFee:s,ttl:h,nonce:v,senderId:u},nt.p.oracleQuery),t.next=14;break;case 11:return t.next=13,this.api.postOracleQuery({oracleId:n,responseTtl:r,query:i,queryTtl:c,fee:parseInt(p),queryFee:s,ttl:h,nonce:v,senderId:u});case 13:t.t0=t.sent;case 14:return y=t.t0,g=y.tx,t.abrupt("return",{tx:g,queryId:Object(o.oracleQueryId)(u,v,n)});case 17:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function dt(){return(dt=x()(d.a.mark(function t(e){var n,r,o,i,c,s,u,f,p,h,v,y=arguments;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.oracleId,r=e.callerId,o=e.responseTtl,i=e.queryId,c=e.response,t.next=3,this.prepareTxParams(nt.p.oracleResponse,m()({senderId:r},l()(y)));case 3:if(s=t.sent,u=s.fee,f=s.ttl,p=s.nonce,!this.nativeMode){t.next=11;break}t.t0=Object(a.buildTx)({oracleId:n,responseTtl:o,queryId:i,response:c,fee:u,ttl:f,nonce:p},nt.p.oracleResponse),t.next=14;break;case 11:return t.next=13,this.api.postOracleRespond({oracleId:n,responseTtl:o,queryId:i,response:c,fee:parseInt(u),ttl:f,nonce:p});case 13:t.t0=t.sent;case 14:return h=t.t0,v=h.tx,t.abrupt("return",v);case 17:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function vt(){return(vt=x()(d.a.mark(function t(e){var n,r,o,i,c,s,u,f,p,h,v=arguments;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.channelId,r=e.fromId,o=e.payload,i=e.poi,t.next=3,this.prepareTxParams(nt.p.channelCloseSolo,m()({senderId:r},l()(v),{payload:o}));case 3:if(c=t.sent,s=c.fee,u=c.ttl,f=c.nonce,!this.nativeMode){t.next=11;break}t.t0=Object(a.buildTx)(g()(l()(v),{channelId:n,fromId:r,payload:o,poi:i,ttl:u,fee:s,nonce:f}),nt.p.channelCloseSolo),t.next=14;break;case 11:return t.next=13,this.api.postChannelCloseSolo(g()(l()(v),{channelId:n,fromId:r,payload:o,poi:i,ttl:u,fee:parseInt(s),nonce:f}));case 13:t.t0=t.sent;case 14:return p=t.t0,h=p.tx,t.abrupt("return",h);case 17:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function mt(){return(mt=x()(d.a.mark(function t(e){var n,r,o,i,c,s,u,f,p,h,v=arguments;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.channelId,r=e.fromId,o=e.payload,i=e.poi,t.next=3,this.prepareTxParams(nt.p.channelSlash,m()({senderId:r},l()(v),{payload:o}));case 3:if(c=t.sent,s=c.fee,u=c.ttl,f=c.nonce,!this.nativeMode){t.next=11;break}t.t0=Object(a.buildTx)(g()(l()(v),{channelId:n,fromId:r,payload:o,poi:i,ttl:u,fee:s,nonce:f}),nt.p.channelSlash),t.next=14;break;case 11:return t.next=13,this.api.postChannelSlash(g()(l()(v),{channelId:n,fromId:r,payload:o,poi:i,ttl:u,fee:parseInt(s),nonce:f}));case 13:t.t0=t.sent;case 14:return p=t.t0,h=p.tx,t.abrupt("return",h);case 17:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function yt(){return(yt=x()(d.a.mark(function t(e){var n,r,o,i,c,s,u,f,p,h,v=arguments;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.channelId,r=e.fromId,o=e.initiatorAmountFinal,i=e.responderAmountFinal,t.next=3,this.prepareTxParams(nt.p.channelSettle,m()({senderId:r},l()(v)));case 3:if(c=t.sent,s=c.fee,u=c.ttl,f=c.nonce,!this.nativeMode){t.next=11;break}t.t0=Object(a.buildTx)(g()(l()(v),{channelId:n,fromId:r,initiatorAmountFinal:o,responderAmountFinal:i,ttl:u,fee:s,nonce:f}),nt.p.channelSettle),t.next=14;break;case 11:return t.next=13,this.api.postChannelSettle(g()(l()(v),{channelId:n,fromId:r,initiatorAmountFinal:parseInt(o),responderAmountFinal:parseInt(i),ttl:u,fee:parseInt(s),nonce:f}));case 13:t.t0=t.sent;case 14:return p=t.t0,h=p.tx,t.abrupt("return",h);case 17:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function gt(){return(gt=x()(d.a.mark(function t(e){var n,r,o,i,c,s,u,f,p,h=arguments;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.channelId,r=e.fromId,o=e.payload,t.next=3,this.prepareTxParams(nt.p.channelSnapshotSolo,m()({senderId:r},l()(h),{payload:o}));case 3:if(i=t.sent,c=i.fee,s=i.ttl,u=i.nonce,!this.nativeMode){t.next=11;break}t.t0=Object(a.buildTx)(g()(l()(h),{channelId:n,fromId:r,payload:o,ttl:s,fee:c,nonce:u}),nt.p.channelSnapshotSolo),t.next=14;break;case 11:return t.next=13,this.api.postChannelSnapshotSolo(g()(l()(h),{channelId:n,fromId:r,payload:o,ttl:s,fee:parseInt(c),nonce:u}));case 13:t.t0=t.sent;case 14:return f=t.t0,p=f.tx,t.abrupt("return",p);case 17:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function bt(){return xt.apply(this,arguments)}function xt(){return(xt=x()(d.a.mark(function t(){var e,n,r,a,o=arguments;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=o.length>0&&void 0!==o[0]?o[0]:0,n=!(o.length>1&&void 0!==o[1])||o[1],0!==e){t.next=4;break}return t.abrupt("return",0);case 4:if(!(e<0)){t.next=6;break}throw new Error("ttl must be greater than 0");case 6:if(!n){t.next=12;break}return t.next=9,this.api.getCurrentKeyBlock();case 9:return r=t.sent,a=r.height,t.abrupt("return",+a+e);case 12:return t.abrupt("return",e);case 13:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function wt(){return(wt=x()(d.a.mark(function t(e,n){var r,a;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=2;break}return t.abrupt("return",n);case 2:return t.next=4,this.api.getAccountByPubkey(e).catch(function(){return{nonce:0}});case 4:return r=t.sent,a=r.nonce,t.abrupt("return",a+1);case 7:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function kt(){return(kt=x()(d.a.mark(function t(e,n){var r,o,i,c,s,u,f,p,l,h=arguments;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.senderId,o=n.nonce,i=n.ttl,c=n.fee,s=n.gas,u=n.absoluteTtl,t.next=3,this.getAccountNonce(r,o);case 3:return f=t.sent,t.next=6,bt.bind(this)(i,!u);case 6:return p=t.sent,l=Object(a.calculateFee)(c,e,{showWarning:this.showWarning,gas:s,params:g()(Z()(h),{nonce:f,ttl:p})}),t.abrupt("return",{fee:l,ttl:p,nonce:f});case 9:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}var Tt=w.a.compose($.a,{init:function(t){var e=t.nativeMode,n=void 0===e||e,r=t.showWarning,a=void 0!==r&&r;this.nativeMode=n,this.showWarning=a},props:{nativeMode:null,showWarning:null},methods:{spendTx:function(t){return rt.apply(this,arguments)},namePreclaimTx:function(t){return at.apply(this,arguments)},nameClaimTx:function(t){return ot.apply(this,arguments)},nameTransferTx:function(t){return it.apply(this,arguments)},nameUpdateTx:function(t){return ct.apply(this,arguments)},nameRevokeTx:function(t){return st.apply(this,arguments)},contractCreateTx:function(t){return ut.apply(this,arguments)},contractCallTx:function(t){return ft.apply(this,arguments)},prepareTxParams:function(t,e){return kt.apply(this,arguments)},oracleRegisterTx:function(t){return pt.apply(this,arguments)},oracleExtendTx:function(t){return lt.apply(this,arguments)},oraclePostQueryTx:function(t){return ht.apply(this,arguments)},oracleRespondTx:function(t){return dt.apply(this,arguments)},channelCloseSoloTx:function(t){return vt.apply(this,arguments)},channelSlashTx:function(t){return mt.apply(this,arguments)},channelSettleTx:function(t){return yt.apply(this,arguments)},channelSnapshotSoloTx:function(t){return gt.apply(this,arguments)},getAccountNonce:function(t,e){return wt.apply(this,arguments)},getVmVersion:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.vmVersion,r=e.abiVersion,a=this.consensusProtocolVersion,o=nt.j[a];if(!o)throw new Error("Not supported consensus protocol version");var i=o[t];if(!i)throw new Error("Not supported tx type");var c={abiVersion:void 0!==r?r:i.abiVersion[0],vmVersion:void 0!==n?n:i.vmVersion[0]};if(i.vmVersion.length&&!et()(c.vmVersion,i.vmVersion))throw new Error("VM VERSION ".concat(c.vmVersion," do not support by this node. Supported: [").concat(i.vmVersion,"]"));if(!et()(c.abiVersion,i.abiVersion))throw new Error("ABI VERSION ".concat(c.abiVersion," do not support by this node. Supported: [").concat(i.abiVersion,"]"));return c}}}),Ot=n(25),Ct=n(57),It=n(43),At=n(33),jt=n(58),Et=n(117),Pt=n.n(Et),_t=n(26),St=n.n(_t),Bt=n(13),Rt=n.n(Bt),Nt=n(70),Vt=n.n(Nt),Ut=n(44),Lt=n(15),qt=n.n(Lt),Mt=n(27);function Ft(){return(Ft=x()(d.a.mark(function t(e,n){var r;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==(r=this.accounts[e])){t.next=3;break}throw Error("Account for ".concat(e," not available"));case 3:return t.abrupt("return",r.sign(n));case 4:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function Dt(){return(Dt=x()(d.a.mark(function t(e){var n;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.address();case 2:n=t.sent,this.accounts[n]=e;case 4:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}var Kt=qt()(Mt.a,{init:function(){var t=x()(d.a.mark(function t(e){var n,r;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.accounts,r=void 0===n?[]:n,t.t0=St.a,t.next=4,Promise.all(r.map(function(){var t=x()(d.a.mark(function t(e){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.address();case 2:return t.t0=t.sent,t.t1=e,t.abrupt("return",[t.t0,t.t1]);case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()));case 4:t.t1=t.sent,this.accounts=(0,t.t0)(t.t1);case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),props:{accounts:{}},methods:{signWith:function(t,e){return Ft.apply(this,arguments)},addAccount:function(t){return Dt.apply(this,arguments)}}}),Ht=n(2),Wt=n.n(Ht),Yt=n(6),Qt=n.n(Yt),zt=n(118),Gt=n.n(zt),Xt=n(19),$t=n.n(Xt),Jt=n(119),Zt=n.n(Jt);function te(){return(te=x()(d.a.mark(function t(e){var n,r,a,o,i,c,s,u;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=function(){return Promise.reject(Error("Error: No such method ".concat(i)))},n=e.data,r=e.origin,a=e.source,"object"===$t()(n)&&"2.0"===n.jsonrpc){t.next=4;break}return t.abrupt("return");case 4:o=n.id,i=n.method,c=n.params,s=n.session,Gt()((this.rpcMethods[i]||u).bind(this),{params:c,session:this.rpcSessions[s],origin:r}).then(function(t){var e="object"===$t()(t)?Object.entries(t).filter(function(t){var e=Qt()(t,2);e[0];return"function"!=typeof e[1]}).reduce(function(t,e){var n=Qt()(e,2),r=n[0],a=n[1];return m()({},t,Wt()({},r,a))},{}):t;a.postMessage({jsonrpc:"2.0",id:o,result:{resolve:e}},"*")}).catch(function(t){a.postMessage({jsonrpc:"2.0",id:o,result:{reject:t.message}},"*")});case 6:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}var ee=qt()({init:function(t){var e=t.self,n=void 0===e?window:e,r=this.receive.bind(this);n.addEventListener("message",r,!1),this.destroyServer=function(){return n.removeEventListener("message",r,!1)}},methods:{receive:function(t){return te.apply(this,arguments)},createSession:function(){var t=Zt()();return this.rpcSessions[t]={id:t},t}},props:{rpcSessions:{}},deepProps:{rpcMethods:{hello:function(){return Promise.resolve(this.createSession())}}}}),ne=n(9),re=n.n(ne);function ae(){return(ae=x()(d.a.mark(function t(e){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.signWith(this.Selector.address,e));case 1:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function oe(){return(oe=x()(d.a.mark(function t(){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.resolve(this.Selector.address));case 1:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function ie(){return(ie=x()(d.a.mark(function t(e){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.Selector.address=e;case 1:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}var ce=Ot.a.compose({init:function(){var t=x()(d.a.mark(function t(e){var n;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=e.address,this.Selector.address=n;case 2:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),methods:{sign:function(t){return ae.apply(this,arguments)},address:function(){return oe.apply(this,arguments)},selectAccount:function(t){return ie.apply(this,arguments)}},deepProps:{Selector:{}}},re()({methods:{signWith:re.a}})),se=Vt()(et.a),ue=[{pred:se(Tt.compose.deepConfiguration.Ae.methods),handler:"onTx",error:"Creating transaction [{}] rejected"},{pred:se(X.compose.deepConfiguration.Ae.methods),handler:"onChain",error:"Chain operation [{}] rejected"},{pred:se(Ot.a.compose.deepConfiguration.Ae.methods),handler:"onAccount",error:"Account operation [{}] rejected"},{pred:se(Ut.a.compose.deepConfiguration.Contract.methods),handler:"onContract",error:"Contract operation [{}] rejected"}];function fe(){return(fe=x()(d.a.mark(function t(){var e;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ee.compose.deepProperties.rpcMethods.hello.call(this);case 2:return e=t.sent,t.next=5,this.address();case 5:return this.rpcSessions[e].address=t.sent,t.abrupt("return",Promise.resolve(e));case 7:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function pe(){return(pe=x()(d.a.mark(function t(e,n,r){var a,o,i;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=Pt()(function(t){return(0,t.pred)(e)},ue),o=a.handler,i=a.error,void 0!==o){t.next=5;break}return t.abrupt("return",Promise.reject(Error("Unknown method ".concat(e))));case 5:return t.next=7,this[o](e,n,r);case 7:if(!t.sent){t.next=11;break}return t.abrupt("return",this[e].apply(this,n));case 11:return t.abrupt("return",Promise.reject(Error(i.replace(/{}/,e))));case 12:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function le(){return(le=x()(d.a.mark(function t(e){var n,r;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.params,r=e.session,t.next=3,this.onAccount("sign",n,r);case 3:if(!t.sent){t.next=7;break}return t.abrupt("return",this.signWith(r.address,n[0]));case 7:return t.abrupt("return",Promise.reject(Error("Signing rejected")));case 8:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function he(){return(he=x()(d.a.mark(function t(e){var n,r;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.params,r=e.session,t.next=3,this.onAccount("address",n,r);case 3:if(!t.sent){t.next=7;break}return t.abrupt("return",Promise.resolve(r.address));case 7:return t.abrupt("return",Promise.reject(Error("Address rejected")));case 8:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}var de=c.a.compose(Kt,X,Tt,At.b,ee,ce,{init:function(t,e){var n=this,r=t.onTx,a=void 0===r?this.onTx:r,o=t.onChain,i=void 0===o?this.onChain:o,c=t.onAccount,s=void 0===c?this.onAccount:c,u=t.onContract,f=void 0===u?this.onContract:u,p=e.stamp;this.onTx=a,this.onChain=i,this.onAccount=s,this.onContract=f;var l=[].concat(Rt()(p.compose.deepConfiguration.Ae.methods),Rt()(p.compose.deepConfiguration.Contract.methods));this.rpcMethods=Object.assign(St()(l.map(function(t){return[t,function(e){var r=e.params,a=e.session;return n.rpc(t,r,a)}]})),this.rpcMethods)},methods:{rpc:function(t,e,n){return pe.apply(this,arguments)},onTx:function(){return console.log("Implement onTx!"),Promise.resolve(!1)},onChain:function(){return console.log("Implement onChain!"),Promise.resolve(!1)},onAccount:function(){return console.log("Implement onAccount!"),Promise.resolve(!1)},onContract:function(){return console.log("Implement onContract!"),Promise.resolve(!1)}},deepProps:{rpcMethods:{sign:function(t){return le.apply(this,arguments)},address:function(t){return he.apply(this,arguments)},hello:function(){return fe.apply(this,arguments)}}}}),ve=n(30),me=n.n(ve);var ye=qt()(Mt.a,{init:function(){var t=x()(d.a.mark(function t(e,n){var r,a,o,i,c,s,u,f,p=this;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=function(t){var e=t.data;if("object"===$t()(e)&&"webpackOk"!==e.type){var n=e.result,r=n.resolve,a=n.reject,o=e.id;s[o]&&(r?s[o].resolve(r):a&&s[o].reject(a),delete s[o])}},r=e.parent,a=void 0===r?window.parent:r,o=e.self,i=void 0===o?window:o,n.stamp,a!==i){t.next=5;break}throw new Error("rpc client: Can't send messages to itself");case 5:return c=0,s={},this.post=function(t,e){var n=new Promise(function(t,e){s[c]={resolve:t,reject:e}});return a.postMessage({jsonrpc:"2.0",id:c,method:t,params:e,session:p.session},"*"),c++,n},f=u,i.addEventListener("message",f,!1),this.destroyClient=function(){return i.removeEventListener("message",f,!1)},t.next=13,this.post("hello");case 13:this.session=t.sent;case 14:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),props:{handler:null},methods:{},composers:function(t){var e=t.stamp,n=(t.composables,[].concat(Rt()(me()(["compose","deepConfiguration","Ae","methods"],e)||[]),Rt()(me()(["compose","deepConfiguration","Contract","methods"],e)||[]))),r=St()(n.map(function(t){return[t,(e=t,function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.post(e,n)})];var e}));e.compose.methods&&["signTransaction","getNetworkId"].forEach(function(t){return delete e.compose.methods[t]}),e.compose.methods=Object.assign(r,e.compose.methods)}}),ge=c.a.compose(At.a,It.a,ye);function be(t){return xe.apply(this,arguments)}function xe(){return(xe=x()(d.a.mark(function t(e){var n,r,a,o=this;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getOracle(e);case 2:return n=t.sent,t.next=5,this.getOracleQueries(e);case 5:return r=t.sent,a=r.oracleQueries,t.abrupt("return",m()({},n,{queries:a,postQuery:function(t,n){return o.postQueryToOracle(e,t,n)},respondToQuery:function(t,n,r){return o.respondToQuery(e,t,n,r)},extendOracle:function(t,n){return o.extendOracleTtl(e,t,n)},getQuery:function(){var t=x()(d.a.mark(function t(n){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",we.bind(o)(e,n));case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}));case 8:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function we(t,e){return ke.apply(this,arguments)}function ke(){return(ke=x()(d.a.mark(function t(e,n){var a=this;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=m.a,t.t1={},t.next=4,this.getOracleQuery(e,n);case 4:return t.t2=t.sent,t.t3={respond:function(t,r){return a.respondToQuery(e,n,t,r)},pollForResponse:function(t){var r=t.attempts,o=t.interval;return a.pollForQueryResponse(e,n,{attempts:r,interval:o})},decode:function(t){return Object(r.decodeBase64Check)(t.slice(3))}},t.abrupt("return",(0,t.t0)(t.t1,t.t2,t.t3));case 7:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function Te(){return(Te=x()(d.a.mark(function t(e,n){var a,o,i,c,s,u,f,p,l,h,v=arguments;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return h=function(){return(h=x()(d.a.mark(function t(a){var o;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getOracleQuery(e,n);case 2:if((o=t.sent).response===u){t.next=5;break}return t.abrupt("return",{response:o.response,decode:function(){return Object(r.decodeBase64Check)(o.response.slice(3))}});case 5:if(!(a>0)){t.next=9;break}return t.next=8,f(s);case 8:return t.abrupt("return",l.bind(this)(a-1));case 9:throw Error("Giving up after ".concat(i*s,"ms"));case 10:case"end":return t.stop()}},t,this)}))).apply(this,arguments)},l=function(t){return h.apply(this,arguments)},p=function(){return(p=x()(d.a.mark(function t(e){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise(function(t){return setTimeout(t,e)});case 2:case"end":return t.stop()}},t)}))).apply(this,arguments)},f=function(t){return p.apply(this,arguments)},a=v.length>2&&void 0!==v[2]?v[2]:{},o=a.attempts,i=void 0===o?20:o,c=a.interval,s=void 0===c?5e3:c,u="or_Xfbg4g==",t.abrupt("return",l.bind(this)(i));case 7:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function Oe(){return(Oe=x()(d.a.mark(function t(e,n){var r,a,o,i,c=arguments;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=c.length>2&&void 0!==c[2]?c[2]:{},a=g()(this.Ae.defaults,r),t.next=4,this.address();case 4:return o=t.sent,t.next=7,this.oracleRegisterTx(g()(a,{accountId:o,queryFormat:e,responseFormat:n}));case 7:return i=t.sent,t.t0=m.a,t.t1={},t.next=12,this.send(i,a);case 12:return t.t2=t.sent,t.next=15,be.bind(this)("ok_".concat(o.slice(3)));case 15:return t.t3=t.sent,t.abrupt("return",(0,t.t0)(t.t1,t.t2,t.t3));case 17:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function Ce(){return(Ce=x()(d.a.mark(function t(e,n){var r,a,o,i,c,s,u=arguments;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=u.length>2&&void 0!==u[2]?u[2]:{},a=g()(this.Ae.defaults,r),t.next=4,this.address();case 4:return o=t.sent,t.next=7,this.oraclePostQueryTx(g()(a,{oracleId:e,senderId:o,query:n}));case 7:return i=t.sent,c=i.tx,s=i.queryId,t.t0=m.a,t.t1={},t.next=14,this.send(c,a);case 14:return t.t2=t.sent,t.next=17,be.bind(this)(e);case 17:return t.t3=s,t.next=20,t.sent.getQuery(t.t3);case 20:return t.t4=t.sent,t.abrupt("return",(0,t.t0)(t.t1,t.t2,t.t4));case 22:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function Ie(){return(Ie=x()(d.a.mark(function t(e,n){var r,a,o,i,c=arguments;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=c.length>2&&void 0!==c[2]?c[2]:{},a=g()(this.Ae.defaults,r),t.next=4,this.address();case 4:return o=t.sent,t.next=7,this.oracleExtendTx(g()(a,{oracleId:e,callerId:o,oracleTtl:n}));case 7:return i=t.sent,t.t0=m.a,t.t1={},t.next=12,this.send(i,a);case 12:return t.t2=t.sent,t.next=15,be.bind(this)(e);case 15:return t.t3=t.sent,t.abrupt("return",(0,t.t0)(t.t1,t.t2,t.t3));case 17:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function Ae(){return(Ae=x()(d.a.mark(function t(e,n,r){var a,o,i,c,s=arguments;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=s.length>3&&void 0!==s[3]?s[3]:{},o=g()(this.Ae.defaults,a),t.next=4,this.address();case 4:return i=t.sent,t.next=7,this.oracleRespondTx(g()(o,{oracleId:e,queryId:n,callerId:i,response:r}));case 7:return c=t.sent,t.t0=m.a,t.t1={},t.next=12,this.send(c,o);case 12:return t.t2=t.sent,t.next=15,be.bind(this)(e);case 15:return t.t3=t.sent,t.abrupt("return",(0,t.t0)(t.t1,t.t2,t.t3));case 17:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}var je=c.a.compose({methods:{registerOracle:function(t,e){return Oe.apply(this,arguments)},respondToQuery:function(t,e,n){return Ae.apply(this,arguments)},extendOracleTtl:function(t,e){return Ie.apply(this,arguments)},postQueryToOracle:function(t,e){return Ce.apply(this,arguments)},pollForQueryResponse:function(t,e){return Te.apply(this,arguments)},getOracleObject:be,getQueryObject:we},deepProps:{Ae:{defaults:{queryFee:3e4,oracleTtl:{type:"delta",value:500},queryTtl:{type:"delta",value:10},responseTtl:{type:"delta",value:10}}}}}),Ee=n(111),Pe=n.n(Ee),_e=n(23),Se=n(112),Be=n.n(Se),Re=n(113),Ne=n.n(Re),Ve=n(40),Ue=n.n(Ve),Le=n(50),qe=n.n(Le),Me=n(32),Fe=n.n(Me),De=n(114),Ke=n(115),He=new WeakMap,We=new WeakMap,Ye=new WeakMap,Qe=new WeakMap,ze=new WeakMap,Ge=new WeakMap,Xe=new WeakMap,$e=new WeakMap,Je=new WeakMap,Ze=new WeakMap,tn=new WeakMap,en=new WeakMap,nn=new WeakMap;function rn(t,e){var n=Fe()("&",qe()(Ue()(function(t,e){return"".concat(Object(_e.a)(e),"=").concat(encodeURIComponent(t))},e)));return"".concat(t,"?").concat(n)}function an(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];(e=Ge.get(t)).emit.apply(e,r)}function on(t,e){if(!e)throw new Error("State Channels FSM entered unknown state");Qe.set(t,e),e.handler.enter&&e.handler.enter(t),pn(t)}function cn(t,e){e!==We.get(t)&&(We.set(t,e),an(t,"statusChanged",e))}function sn(t,e){Ye.set(t,e),an(t,"stateChanged",e)}function un(t,e){ze.get(t).send(JSON.stringify(e,void 0,2))}function fn(t,e,n){Je.set(t,[].concat(Rt()(Je.get(t)||[]),[{guard:e,action:n}])),pn(t)}function pn(t){return ln.apply(this,arguments)}function ln(){return(ln=x()(d.a.mark(function t(e){var n,r,a,o,i;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=Ze.get(e),r=Je.get(e)||[],!n&&r.length){t.next=4;break}return t.abrupt("return");case 4:if(a=Qe.get(e),-1!==(o=r.findIndex(function(t){return t.guard(e,a)}))){t.next=8;break}return t.abrupt("return");case 8:return Je.set(e,r.filter(function(t,e){return o!==e})),Ze.set(e,!0),t.next=12,Promise.resolve(r[o].action(e,a));case 12:i=t.sent,Ze.set(e,!1),on(e,i);case 15:case"end":return t.stop()}},t)}))).apply(this,arguments)}function hn(t,e){return dn.apply(this,arguments)}function dn(){return(dn=x()(d.a.mark(function t(e,n){var r,a,o;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=Qe.get(e),a=r.handler,o=r.state,t.t0=on,t.t1=e,t.next=5,Promise.resolve(a(e,n,o));case 5:t.t2=t.sent,(0,t.t0)(t.t1,t.t2);case 7:case"end":return t.stop()}},t)}))).apply(this,arguments)}function vn(t){return mn.apply(this,arguments)}function mn(){return(mn=x()(d.a.mark(function t(e){var n,r,a,o;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=Xe.get(e),!$e.get(e)&&n.length){t.next=3;break}return t.abrupt("return");case 3:return r=Ne()(n),a=r[0],o=r.slice(1),Xe.set(e,o||[]),$e.set(e,!0),t.next=8,hn(e,a);case 8:$e.set(e,!1),vn(e);case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function yn(t,e){var n=JSON.parse(e);if(n.id){var r=nn.get(t).get(n.id);try{r(n)}finally{nn.get(t).delete(n.id)}}else"channels.message"===n.method?an(t,"message",n.params.data.message):(Xe.set(t,[].concat(Rt()(Xe.get(t)||[]),[n])),vn(t))}function gn(t,e,n){return new Promise(function(r,a){var o=tn.set(t,tn.get(t)+1).get(t);nn.get(t).set(o,function(t){return t.result?r(t.result):t.error?a(function(t){var e=t.error.data||[],n=Qt()(e,1)[0],r=(n=void 0===n?{}:n).message;return r?Error("".concat(t.error.message,": ").concat(r)):Error(t.error.message)}(t)):void 0}),un(t,{jsonrpc:"2.0",method:e,id:o,params:n})})}function bn(t){var e=ze.get(t);e.readyState===e.OPEN&&e._connection.close()}function xn(t,e){function n(t,n,r){t[n]=function(){r.apply(void 0,arguments),t[n]=e[n],"function"==typeof t&&t.apply(void 0,arguments)}}return new Promise(function(r,a){var o=new De.w3cwebsocket(t);Object.entries(e).forEach(function(t){var e=Qt()(t,2),n=e[0],r=e[1];return o[n]=r}),n(o,"onopen",function(){return r(o)}),n(o,"onerror",function(t){return a(t)})})}function wn(t,e){return kn.apply(this,arguments)}function kn(){return(kn=x()(d.a.mark(function t(e,n){var r,a,o,i,c;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=["sign","url"],a=Be()(function(t){return!r.includes(t)},n),o=n.url,i=rn(o,m()({},a,{protocol:"json-rpc"})),He.set(e,n),Qe.set(e,{handler:On}),Ge.set(e,new Ke.EventEmitter),tn.set(e,0),nn.set(e,new Map),t.next=11,xn(i,{onopen:function(){return cn(e,"connected")},onclose:function(){return cn(e,"disconnected")},onmessage:function(t){var n=t.data;return yn(e,n)}});case 11:c=t.sent,ze.set(e,c);case 13:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Tn(t,e,n){return n.reject&&n.reject(Object.assign(Error("Unexpected message received:\n\n".concat(JSON.stringify(e))),{wsMessage:e})),{handler:_n}}function On(t,e,n){return"channels.info"===e.method?["channel_accept","funding_created"].includes(e.params.data.event)?(cn(t,{channel_accept:"accepted",funding_created:"halfSigned"}[e.params.data.event]),{handler:Cn}):"channel_reestablished"===e.params.data.event?{handler:En}:{handler:On}:"channels.error"===e.method?(an(t,"error",new Error(e.payload.message)),{handler:nr}):void 0}function Cn(t,e,n){return In.apply(this,arguments)}function In(){return(In=x()(d.a.mark(function t(e,n,r){var a,o;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a={initiator:"initiator_sign",responder:"responder_sign"}[He.get(e).role],n.method!=="channels.sign.".concat(a)){t.next=7;break}return t.next=4,He.get(e).sign(a,n.params.data.tx);case 4:return o=t.sent,un(e,{jsonrpc:"2.0",method:"channels.".concat(a),params:{tx:o}}),t.abrupt("return",{handler:An});case 7:case"end":return t.stop()}},t)}))).apply(this,arguments)}function An(t,e,n){return"channels.on_chain_tx"===e.method?(an(t,"onChainTx",e.params.data.tx),{handler:jn}):"channels.info"===e.method&&"funding_signed"===e.params.data.event&&"initiator"===He.get(t).role?(cn(t,"signed"),{handler:An}):void 0}function jn(t,e,n){if("channels.info"===e.method){var r={own_funding_locked:jn,funding_locked:En}[e.params.data.event];if(r)return{handler:r}}}function En(t,e,n){if("channels.info"===e.method&&"open"===e.params.data.event)return en.set(t,e.params.channel_id),{handler:Pn}}function Pn(t,e,n){if("channels.update"===e.method)return sn(t,e.params.data.state),{handler:_n}}function _n(t,e,n){return Sn.apply(this,arguments)}function Sn(){return(Sn=x()(d.a.mark(function t(e,n,r){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=n.method,t.next="channels.info"===t.t0?3:"channels.on_chain_tx"===t.t0?13:"channels.leave"===t.t0?15:"channels.update"===t.t0?16:"channels.sign.shutdown_sign_ack"===t.t0?18:19;break;case 3:t.t1=n.params.data.event,t.next="update"===t.t1?6:"withdraw_created"===t.t1?6:"deposit_created"===t.t1?6:"own_withdraw_locked"===t.t1?7:"withdraw_locked"===t.t1?7:"own_deposit_locked"===t.t1?7:"deposit_locked"===t.t1?7:"close_mutual"===t.t1?9:"died"===t.t1?10:12;break;case 6:return t.abrupt("return",{handler:Vn});case 7:return an(e,n.params.data.event),t.abrupt("return",{handler:_n});case 9:return t.abrupt("return",{handler:_n});case 10:return cn(e,"died"),t.abrupt("return",{handler:nr});case 12:return t.abrupt("break",19);case 13:return an(e,"onChainTx",n.params.data.tx),t.abrupt("return",{handler:_n});case 15:return t.abrupt("return",{handler:_n});case 16:return sn(e,n.params.data.state),t.abrupt("return",{handler:_n});case 18:return t.abrupt("return",Vn(e,n,r));case 19:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Bn(t,e,n){return Rn.apply(this,arguments)}function Rn(){return(Rn=x()(d.a.mark(function t(e,n,r){var a,o,i,c;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("channels.sign.update"!==n.method){t.next=7;break}return a=r.sign,t.next=4,a(n.params.data.tx,{updates:n.params.data.updates});case 4:return o=t.sent,un(e,{jsonrpc:"2.0",method:"channels.update",params:{tx:o}}),t.abrupt("return",{handler:Nn,state:r});case 7:if("channels.error"!==n.method){t.next=10;break}return r.reject(new Error(n.data.message)),t.abrupt("return",{handler:_n});case 10:if(!n.error){t.next=14;break}return i=n.error.data,(c=void 0===i?[]:i).find(function(t){return 1001===t.code})?r.reject(new Error("Insufficient balance")):c.find(function(t){return 1002===t.code})?r.reject(new Error("Amount cannot be negative")):r.reject(new Error(n.error.message)),t.abrupt("return",{handler:_n});case 14:return t.abrupt("return",Tn(0,n,r));case 15:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Nn(t,e,n){return"channels.update"===e.method?(sn(t,e.params.data.state),n.resolve({accepted:!0,signedTx:e.params.data.state}),{handler:_n}):"channels.conflict"===e.method?(n.resolve({accepted:!1}),{handler:_n}):e.error?(n.reject(new Error(e.error.message)),{handler:_n}):Tn(0,e,n)}function Vn(t,e,n){return Un.apply(this,arguments)}function Un(){return(Un=x()(d.a.mark(function t(e,n,a){var o,i,c,s;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=n.method.match(/^channels\.sign\.([^\.]+)$/)||[],i=Qt()(o,2),!(c=i[1])){t.next=10;break}return t.next=4,He.get(e).sign(c,n.params.data.tx,{updates:n.params.data.updates});case 4:if(!(s=t.sent)){t.next=8;break}return un(e,{jsonrpc:"2.0",method:"channels.".concat(c),params:{tx:s}}),t.abrupt("return",{handler:_n});case 8:return un(e,{jsonrpc:"2.0",method:"channels.update.new",params:{from:Object(r.generateKeyPair)().publicKey,to:Object(r.generateKeyPair)().publicKey,amount:1}}),t.abrupt("return",{handler:Ln});case 10:return t.abrupt("return",Tn(0,n,a));case 11:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Ln(t,e,n){return e.error?{handler:Ln}:"channels.conflict"===e.method?{handler:_n}:Tn(0,e,n)}function qn(t,e,n){return Mn.apply(this,arguments)}function Mn(){return(Mn=x()(d.a.mark(function t(e,n,r){var a;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("channels.sign.shutdown_sign"!==n.method){t.next=6;break}return t.next=3,Promise.resolve(r.sign(n.params.data.tx));case 3:return a=t.sent,un(e,{jsonrpc:"2.0",method:"channels.shutdown_sign",params:{tx:a}}),t.abrupt("return",{handler:Fn,state:r});case 6:return t.abrupt("return",Tn(0,n,r));case 7:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Fn(t,e,n){return"channels.on_chain_tx"===e.method?(n.resolve(e.params.data.tx),{handler:nr}):Tn(0,e,n)}function Dn(t,e,n){return"channels.leave"===e.method?(n.resolve({channelId:e.params.channel_id,signedTx:e.params.data.state}),bn(t),{handler:nr}):"channels.error"===e.method?(n.reject(new Error(e.data.message)),{handler:_n}):Tn(0,e,n)}function Kn(t,e,n){return Hn.apply(this,arguments)}function Hn(){return(Hn=x()(d.a.mark(function t(e,n,r){var a;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("channels.sign.withdraw_tx"!==n.method){t.next=6;break}return t.next=3,Promise.resolve(r.sign(n.params.data.tx,{updates:n.params.data.updates}));case 3:return a=t.sent,un(e,{jsonrpc:"2.0",method:"channels.withdraw_tx",params:{tx:a}}),t.abrupt("return",{handler:Wn,state:r});case 6:return t.abrupt("return",Tn(0,n,r));case 7:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Wn(t,e,n){if("channels.on_chain_tx"===e.method)return n.onOnChainTx&&n.onOnChainTx(e.params.data.tx),{handler:Wn,state:n};if("channels.info"===e.method&&["own_withdraw_locked","withdraw_locked"].includes(e.params.data.event)){var r={own_withdraw_locked:n.onOwnWithdrawLocked,withdraw_locked:n.onWithdrawLocked}[e.params.data.event];return r&&r(),{handler:Wn,state:n}}return"channels.update"===e.method?(sn(t,e.params.data.state),n.resolve({accepted:!0,signedTx:e.params.data.state}),{handler:_n}):"channels.conflict"===e.method?(n.resolve({accepted:!1}),{handler:_n}):Tn(0,e,n)}function Yn(t,e,n){return Qn.apply(this,arguments)}function Qn(){return(Qn=x()(d.a.mark(function t(e,n,r){var a;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("channels.sign.deposit_tx"!==n.method){t.next=6;break}return t.next=3,Promise.resolve(r.sign(n.params.data.tx,{updates:n.params.data.updates}));case 3:return a=t.sent,un(e,{jsonrpc:"2.0",method:"channels.deposit_tx",params:{tx:a}}),t.abrupt("return",{handler:zn,state:r});case 6:return t.abrupt("return",Tn(0,n,r));case 7:case"end":return t.stop()}},t)}))).apply(this,arguments)}function zn(t,e,n){if("channels.on_chain_tx"===e.method)return n.onOnChainTx&&n.onOnChainTx(e.params.data.tx),{handler:zn,state:n};if("channels.info"===e.method&&["own_deposit_locked","deposit_locked"].includes(e.params.data.event)){var r={own_deposit_locked:n.onOwnDepositLocked,deposit_locked:n.onDepositLocked}[e.params.data.event];return r&&r(),{handler:zn,state:n}}return"channels.update"===e.method?(sn(t,e.params.data.state),n.resolve({accepted:!0,signedTx:e.params.data.state}),{handler:_n}):"channels.conflict"===e.method?(n.resolve({accepted:!1}),{handler:_n}):Tn(0,e,n)}function Gn(t,e,n){return Xn.apply(this,arguments)}function Xn(){return(Xn=x()(d.a.mark(function t(e,n,r){var a;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("channels.sign.update"!==n.method){t.next=6;break}return t.next=3,Promise.resolve(r.sign(n.params.data.tx));case 3:return a=t.sent,un(e,{jsonrpc:"2.0",method:"channels.update",params:{tx:a}}),t.abrupt("return",{handler:$n,state:r});case 6:return t.abrupt("return",Tn(0,n,r));case 7:case"end":return t.stop()}},t)}))).apply(this,arguments)}function $n(t,e,n){if("channels.update"===e.method){var o=Object(a.unpackTx)(e.params.data.state).tx.encodedTx.tx.round,i=He.get(t)[{initiator:"initiatorId",responder:"responderId"}[He.get(t).role]];return sn(t,e.params.data.state),n.resolve({accepted:!0,address:Object(r.encodeContractAddress)(i,o),signedTx:e.params.data.state}),{handler:_n}}return"channels.conflict"===e.method?(n.resolve({accepted:!1}),{handler:_n}):Tn(0,e,n)}function Jn(t,e,n){return Zn.apply(this,arguments)}function Zn(){return(Zn=x()(d.a.mark(function t(e,n,r){var a;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("channels.sign.update"!==n.method){t.next=6;break}return t.next=3,Promise.resolve(r.sign(n.params.data.tx));case 3:return a=t.sent,un(e,{jsonrpc:"2.0",method:"channels.update",params:{tx:a}}),t.abrupt("return",{handler:tr,state:r});case 6:return t.abrupt("return",Tn(0,n,r));case 7:case"end":return t.stop()}},t)}))).apply(this,arguments)}function tr(t,e,n){return"channels.update"===e.method?(sn(t,e.params.data.state),n.resolve({accepted:!0,signedTx:e.params.data.state}),{handler:_n}):"channels.conflict"===e.method?(n.resolve({accepted:!1}),{handler:_n}):Tn(0,e,n)}function er(t,e,n){return"channels.calls_pruned.reply"===e.method?(n.resolve(),{handler:_n}):(n.reject(new Error("Unexpected message received")),{handler:nr})}function nr(t,e,n){return{handler:nr}}function rr(t){return Object.entries(t).reduce(function(t,e){var n=Qt()(e,2),r=n[0],a=n[1];return m()({},t,Wt()({},Object(_e.b)(r),a))},{})}function ar(){return(ar=x()(d.a.mark(function t(){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=rr,t.next=3,gn(this,"channels.get.offchain_state",{});case 3:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 5:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function or(){return(or=x()(d.a.mark(function t(e){var n,r;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.accounts,r=e.contracts,t.next=3,gn(this,"channels.get.poi",{accounts:n,contracts:r});case 3:return t.abrupt("return",t.sent.poi);case 4:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function ir(){return(ir=x()(d.a.mark(function t(e){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Pe.a,t.t1=function(t,e){return m()({},t,Wt()({},e.account,e.balance))},t.t2={},t.next=5,gn(this,"channels.get.balances",{accounts:e});case 5:return t.t3=t.sent,t.abrupt("return",(0,t.t0)(t.t1,t.t2,t.t3));case 7:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function cr(){return(cr=x()(d.a.mark(function t(e){var n,r,a,o;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.amount,r=e.callData,a=e.contract,o=e.abiVersion,t.t0=rr,t.next=4,gn(this,"channels.dry_run.call_contract",{amount:n,call_data:r,contract:a,abi_version:o});case 4:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 6:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function sr(){return(sr=x()(d.a.mark(function t(e){var n,r,a;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.caller,r=e.contract,a=e.round,t.t0=rr,t.next=4,gn(this,"channels.get.contract_call",{caller:n,contract:r,round:a});case 4:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 6:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function ur(){return(ur=x()(d.a.mark(function t(e){var n;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,gn(this,"channels.get.contract",{pubkey:e});case 2:return n=t.sent,t.abrupt("return",rr(m()({},n,{contract:rr(n.contract)})));case 4:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}_n.enter=function(t){cn(t,"open")};var fr=Mt.a.compose({init:function(){var t=x()(d.a.mark(function t(e){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:wn(this,e);case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),methods:{on:function(t,e){Ge.get(this).on(t,e)},status:function(){return We.get(this)},state:function(){return ar.apply(this,arguments)},id:function(){return en.get(this)},update:function(t,e,n,r){var a=this;return new Promise(function(o,i){fn(a,function(t,e){return e.handler===_n},function(a,c){return un(a,{jsonrpc:"2.0",method:"channels.update.new",params:{from:t,to:e,amount:n}}),{handler:Bn,state:{resolve:o,reject:i,sign:r}}})})},poi:function(t){return or.apply(this,arguments)},balances:function(t){return ir.apply(this,arguments)},leave:function(){var t=this;return new Promise(function(e,n){fn(t,function(t,e){return e.handler===_n},function(t,r){return un(t,{jsonrpc:"2.0",method:"channels.leave",params:{}}),{handler:Dn,state:{resolve:e,reject:n}}})})},shutdown:function(t){var e=this;return new Promise(function(n,r){fn(e,function(t,e){return e.handler===_n},function(e,a){return un(e,{jsonrpc:"2.0",method:"channels.shutdown",params:{}}),{handler:qn,state:{sign:t,resolve:n,reject:r}}})})},sendMessage:function(t,e){var n=t;"object"===$t()(t)&&(n=JSON.stringify(t)),fn(this,function(t,e){return e.handler===_n},function(t,r){return un(t,{jsonrpc:"2.0",method:"channels.message",params:{info:n,to:e}}),r})},withdraw:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.onOnChainTx,o=r.onOwnWithdrawLocked,i=r.onWithdrawLocked;return new Promise(function(r,c){fn(n,function(t,e){return e.handler===_n},function(n,s){return un(n,{jsonrpc:"2.0",method:"channels.withdraw",params:{amount:t}}),{handler:Kn,state:{sign:e,resolve:r,reject:c,onOnChainTx:a,onOwnWithdrawLocked:o,onWithdrawLocked:i}}})})},deposit:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.onOnChainTx,o=r.onOwnDepositLocked,i=r.onDepositLocked;return new Promise(function(r,c){fn(n,function(t,e){return e.handler===_n},function(n,s){return un(n,{jsonrpc:"2.0",method:"channels.deposit",params:{amount:t}}),{handler:Yn,state:{sign:e,resolve:r,reject:c,onOnChainTx:a,onOwnDepositLocked:o,onDepositLocked:i}}})})},createContract:function(t,e){var n=this,r=t.code,a=t.callData,o=t.deposit,i=t.vmVersion,c=t.abiVersion;return new Promise(function(t,s){fn(n,function(t,e){return e.handler===_n},function(n,u){return un(n,{jsonrpc:"2.0",method:"channels.update.new_contract",params:{code:r,call_data:a,deposit:o,vm_version:i,abi_version:c}}),{handler:Gn,state:{sign:e,resolve:t,reject:s}}})})},callContract:function(t,e){var n=this,r=t.amount,a=t.callData,o=t.contract,i=t.abiVersion;return new Promise(function(t,c){fn(n,function(t,e){return e.handler===_n},function(n,s){return un(n,{jsonrpc:"2.0",method:"channels.update.call_contract",params:{amount:r,call_data:a,contract:o,abi_version:i}}),{handler:Jn,state:{resolve:t,reject:c,sign:e}}})})},callContractStatic:function(t){return cr.apply(this,arguments)},getContractCall:function(t){return sr.apply(this,arguments)},getContractState:function(t){return ur.apply(this,arguments)},disconnect:function(){return bn(this)},cleanContractCalls:function(){var t=this;return new Promise(function(e,n){fn(t,function(t,e){return e.handler===_n},function(t,r){return un(t,{jsonrpc:"2.0",method:"channels.clean_contract_calls",params:{}}),{handler:er,state:{resolve:e,reject:n}}})})}}}),pr=c.a.compose(Ct.a,X,Tt,It.a,At.b,je,{init:function(){},props:{process:{}}});n.d(e,"Account",function(){return Ot.a}),n.d(e,"Ae",function(){return c.a}),n.d(e,"Aens",function(){return It.a}),n.d(e,"Aepp",function(){return ge}),n.d(e,"Contract",function(){return At.b}),n.d(e,"ContractCompilerAPI",function(){return jt.a}),n.d(e,"ChainNode",function(){return X}),n.d(e,"Channel",function(){return fr}),n.d(e,"Crypto",function(){return r}),n.d(e,"Chain",function(){return s.a}),n.d(e,"HdWallet",function(){return i.a}),n.d(e,"MemoryAccount",function(){return Ct.a}),n.d(e,"Oracle",function(){return je}),n.d(e,"OracleNodeAPI",function(){return C}),n.d(e,"Selector",function(){return ce}),n.d(e,"Transaction",function(){return Tt}),n.d(e,"TransactionValidator",function(){return E.a}),n.d(e,"Tx",function(){return $.a}),n.d(e,"TxBuilder",function(){return a}),n.d(e,"TxBuilderHelper",function(){return o}),n.d(e,"Universal",function(){return pr}),n.d(e,"Wallet",function(){return de})}])});
//# sourceMappingURL=aepp-sdk.browser.js.map